(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31993bc3"],{"16bc":function(t,e,n){"use strict";n("653a")},"1e9d":function(t,e,n){},"2ea2":function(t,e,n){"use strict";n("1e9d")},"653a":function(t,e,n){},"79fa":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-modal",{attrs:{id:"onboard-modal",mount:"",scrollable:"","no-close-on-backdrop":!1,modalHeaderClass:"feeds-onboard-modal__header",modalBodyClass:"feeds-onboard-modal__body",modalFooterClass:"feeds-onboard-modal__footer",modalContentClass:"feeds-onboard-modal__content"},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"header-content"},[n("span",{staticClass:"modal-title"},[t._v("To continue, please complete the following")]),n("button",{staticClass:"close",on:{click:t.closeModal}},[n("span",{staticClass:"icon-ic-modal-close"})])])]},proxy:!0},{key:"body",fn:function(){return[n("div",{staticClass:"onboard-main"},[n("div",{staticClass:"onboard-text__container"},[n("table",{staticClass:"table table-borderless my-3"},[n("tbody",[n("tr",[n("td",{staticClass:"align-middle",attrs:{scope:"row"}},[n("div",[n("span",{staticClass:"step-badge"},[t._v("1")]),n("span",{staticClass:"requirment-text"},[t._v("Verify your email")])])]),n("td",{staticClass:"align-middle text-right"},[t.emailVerified?n("div",[t._v(" Completed "),n("b-icon-check2",{staticStyle:{color:"#21b17d"},attrs:{"font-scale":"1.25"}})],1):n("div",{staticClass:"onboarding-buttons"},[n("div",{staticClass:"onboarding-buttons__text"},[n("button",{staticClass:"ui-btn ui-btn__outline mx-2",attrs:{disabled:t.sendingEmail},on:{click:t.resendCode}},[t._v(" "+t._s("Resend")+" ")]),n("small",[t._v(" "+t._s(t.didResend?"Email sent":"")+" ")])]),n("button",{staticClass:"ui-btn ui-btn__outline",on:{click:t.checkEmailConfirmation}},[t._v(" I've already confirmed ")])])])]),n("tr",[n("td",{staticClass:"align-middle",attrs:{scope:"row"}},[n("div",[n("span",{staticClass:"step-badge"},[t._v("2")]),n("span",{staticClass:"requirment-text"},[t._v("Complete onboarding questions")])])]),n("td",{staticClass:"align-middle text-right"},[t.hasOnboardingAnswers?n("div",[t._v(" Completed "),n("b-icon-check2",{staticStyle:{color:"#21b17d"},attrs:{"font-scale":"1.25"}})],1):n("div",[n("button",{staticClass:"ui-btn ui-btn__outline",on:{click:t.goToCompleteProfile}},[t._v(" Complete Now ")])])])])])])])])]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"onboard-footer"})]},proxy:!0}])})},s=[],a=n("1da1"),i=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),function(){return Promise.resolve().then(n.bind(null,"7299"))}),r={components:{BaseModal:i},data:function(){return{didResend:!1,sendingEmail:!1}},computed:{email:function(){var t=this.$store.getters["auth/getUserEmail"];return t||this.$store.state.profile.email},hasOnboardingAnswers:function(){return this.$store.getters["profile/getProfileHasOnboardingAnswers"]},emailVerified:function(){return this.$store.getters["profile/getEmailConfirmation"]},onboarded:function(){return this.$store.getters["profile/getProfileOnboarded"]}},methods:{closeModal:function(){this.$bvModal.hide("onboard-modal")},goToCompleteProfile:function(){this.$bvModal.show("questions-modal"),this.$bvModal.hide("onboard-modal")},checkEmailConfirmation:function(){var t=this;console.log("will check email"),this.$store.dispatch("auth/checkEmailConfirmed").then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=4;break}t.$bvToast.toast("Email not confirmed yet, please click the link sent to your email.",{autoHideDelay:2e3,noCloseButton:!0,toaster:"b-toaster-bottom-left",variant:"danger"}),e.next=6;break;case 4:return e.next=6,t.$store.dispatch("profile/fetchProfile");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},resendCode:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.didResend=!1,t.sendingEmail=!0,e.next=4,t.$store.dispatch("auth/resendConfirmEmail",t.email);case 4:n=e.sent,n&&n.success&&(t.sendingEmail=!1,t.didResend=!0),setTimeout((function(){t.didResend=!1}),5e3);case 7:case"end":return e.stop()}}),e)})))()}}},l=r,d=(n("2ea2"),n("16bc"),n("2877")),c=Object(d["a"])(l,o,s,!1,null,"6ec4114a",null);e["default"]=c.exports}}]);