(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f69b07a"],{1787:function(t,e,i){},"18ce":function(t,e,i){},"86ae":function(t,e,i){"use strict";i("18ce")},8737:function(t,e,i){t.exports=i.p+"img/empty-invitation.4e14d436.svg"},"994d":function(t,e,i){"use strict";i("1787")},cd61:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invite-center"},[i("div",{staticClass:"invite-center__wrapper"},[t._m(0),i("div",{staticClass:"invite-center__link--container"},[i("div",{staticClass:"invite-center__link--left"},[i("div",{staticClass:"invite-center__link--title"},[t._v(" "+t._s(t.inviteLinkUrl)+" ")]),i("div",{staticClass:"invite-center__link--caption"},[t._v(" Use this link to invite others to join Bizfluence ")])]),i("div",{staticClass:"invite-center__link--right"},[i("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.inviteLinkUrl,expression:"inviteLinkUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onCopyError,expression:"onCopyError",arg:"error"},{name:"tooltip",rawName:"v-tooltip",value:{content:t.copyMsg,placement:"top-center",classes:["info"],popoverClass:"copy-tooltip",targetClasses:["it-has-a-tooltip"],delay:{show:10,hide:300}},expression:"{\n            content: copyMsg,\n            placement: 'top-center',\n            classes: ['info'],\n            popoverClass: 'copy-tooltip',\n            targetClasses: ['it-has-a-tooltip'],\n            delay: {\n              show: 10,\n              hide: 300,\n            },\n          }"}],staticClass:"ui-btn ui-btn__outline invite-center__link--btn"},[i("i",{staticClass:"icon-copy"}),i("div",{staticClass:"btn-text"},[t._v("Copy")])]),i("button",{staticClass:"ui-btn ui-btn__outline invite-center__link--btn",on:{click:t.shareLink}},[i("i",{staticClass:"icon-ic-share"}),i("div",{staticClass:"btn-text"},[t._v("Share")])])])]),i("hr",{staticClass:"invite-center__divider"}),i("div",{staticClass:"invite-center__body"},[i("b-tabs",{attrs:{pills:"","nav-class":"invites__tabs","nav-wrapper-class":"invites__tabs--wrapper","active-nav-item-class":"invites__tabs--active-nav-item","active-tab-class":"invites__tabs--active-tab"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.listTabs,(function(e,n){return i("b-tab",{key:n,attrs:{"title-item-class":"invites__tab--item","title-link-class":"invites__tab--link",disabled:t.loading&&n!=t.tabIndex},on:{click:function(e){return e.preventDefault(),t.clearTab(e)}},scopedSlots:t._u([{key:"title",fn:function(){return[i("div",{staticClass:"invites__tab--item-title"},[t._v(t._s(e.tabName))])]},proxy:!0}],null,!0)},[i("div",{staticClass:"tab__wrapper pending-tab__wrapper"},[i("ul",{staticClass:"invited-accounts pending-accounts"},t._l(t.requestLists,(function(e,n){return i("li",{key:n,staticClass:"invited-account invited-account__pending-account"},[i("div",{staticClass:"avatar-container"},[i("img",{staticClass:"avatar",attrs:{src:e.avatar,alt:"Joined Account Avatar"}})]),i("div",{staticClass:"meta-container"},[i("div",{staticClass:"account-id"},[t._v(t._s(e.inviteeId))])])])})),0)]),i("infinite-loading",{ref:"InfiniteLoading",refInFor:!0,attrs:{identifier:t.infiniteId,spinner:""},on:{infinite:t.infiniteHandler}},[i("div",{staticClass:"empty-invites",attrs:{slot:"no-results"},slot:"no-results"},[[i("img",{staticClass:"empty-invites__img",attrs:{src:t.EmptyInvitesImg,alt:"No pending Invites"}}),i("div",{staticClass:"empty-invites__text"},[t._v(" "+t._s(t.emptyText)+" ")])]],2),i("div",{attrs:{slot:"no-more"},slot:"no-more"})])],1)})),1),i("button",{staticClass:"ui-btn invite-center__header--button",on:{click:t.showInviteCenterModal}},[i("i",{staticClass:"icon-plus"}),i("div",{staticClass:"invite-center__header--button-text"},[t._v("Email Invite")])])],1)]),i("invite-center-modal",{attrs:{id:"invite-center-modal"},on:{refresh:t.clearTab,close:t.hideInviteCenterModal}}),t.showShare?i("share-link-modal",{ref:"shareLinkModal",attrs:{isPostShare:!1,sharePost:null,customUrl:t.inviteShareUrl},on:{close:t.closeShareModal}}):t._e()],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invite-center__header"},[i("div",{staticClass:"invite-center__header--text"},[t._v("Invite Center")])])}],s=i("2909"),r=i("1da1"),o=(i("96cf"),i("99af"),i("d81d"),i("8737")),c=i.n(o),l=i("a7fd"),d=i.n(l),v=i("4e85"),u=i("dfb0"),p=i("e166"),h=i.n(p),f={components:{InviteCenterModal:v["a"],ShareLinkModal:u["a"],InfiniteLoading:h.a},data:function(){return{infiniteId:new Date,listTabs:[{id:1,tabName:"Joined",type:"joinRequest"},{id:2,tabName:"Pending",type:"pendingRequest"}],EmptyInvitesImg:c.a,loading:!1,copyMsg:"Copy",showShare:!1,tabIndex:0,page:1,requestLists:[]}},computed:{emptyText:function(){return 1==this.tabIndex?"None of your invites are pending.":"None of your invitees have joined yet."},profile:function(){return this.$store.getters["profile/getProfile"]},inviteShareUrl:function(){return"".concat("https://bizfluenceapp.com","/join/share/").concat(this.profile.handle)},inviteLinkUrl:function(){return"".concat("https://bizfluenceapp.com","/join/link/").concat(this.profile.handle)},userId:function(){return this.$store.getters["profile/getUserId"]}},methods:{clearTab:function(){this.page=1,this.requestLists=[],this.loading=!0,this.infiniteId+=1},showInviteCenterModal:function(){var t=this;this.$nextTick((function(){t.$bvModal.show("invite-center-modal")}))},hideInviteCenterModal:function(){var t=this;this.$nextTick((function(){t.$bvModal.hide("invite-center-modal")}))},onCopySuccess:function(t){var e=this;console.log(t.text),this.copyMsg="Copied!",setTimeout((function(){e.copyMsg="Copy"}),1e3)},onCopyError:function(t){console.log(t)},infiniteHandler:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.fetchUserList();case 2:n=i.sent,n.length?(e.page+=1,e.requestLists=[].concat(Object(s["a"])(e.requestLists),Object(s["a"])(n)),t.loaded()):t.complete(),e.loading=!1;case 5:case"end":return i.stop()}}),i)})))()},fetchUserList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.tabIndex){e.next=7;break}return e.next=3,t.$store.dispatch("invites/fetchJoinedInvites",{page:t.page});case 3:return i=e.sent,e.abrupt("return",i.conversions.map((function(t){var e,i,n,a=t.user;return{avatar:(null===(e=a.profile)||void 0===e||null===(i=e.picture)||void 0===i?void 0:i.url)||d.a,inviteeId:null!==(n=a.email)&&void 0!==n?n:a.phone}})));case 7:if(1!=t.tabIndex){e.next=12;break}return e.next=10,t.$store.dispatch("invites/fetchPendingInvites",{page:t.page});case 10:return n=e.sent,e.abrupt("return",n.map((function(t){var e=t.email,i=t.phone;return{avatar:d.a,inviteeId:null!==e&&void 0!==e?e:i}})));case 12:case"end":return e.stop()}}),e)})))()},shareLink:function(){var t=this;this.showShare=!0,this.$nextTick((function(){t.$refs.shareLinkModal.toggleModal(!0),t.$nextTick((function(){t.$bvModal.show("share-link-modal")}))}))},closeShareModal:function(){this.showShare=!1}}},_=f,b=(i("86ae"),i("994d"),i("2877")),m=Object(b["a"])(_,n,a,!1,null,"7dc7cdda",null);e["default"]=m.exports}}]);