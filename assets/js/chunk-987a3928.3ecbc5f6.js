(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-987a3928"],{"0c2e":function(e,t,n){},"155d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-onboard-form-wr ui-onboard-form--extra"},[n("div",{staticClass:"ui-onboard-form-wr__in"},[n("div",{staticClass:"confirm-email-icon"},[n("img",{attrs:{src:e.icon,alt:"Confirm account"}})]),n("h2",{staticClass:"ui-onboard-title"},[e._v("Confirm Account")]),n("p",{staticClass:"ui-onboard-desc"},[e._v("We sent a 4-digit code to your email :")]),n("p",{staticClass:"confirm-email"},[e._v(e._s(e.email))]),n("form",{staticClass:"ui-onboard-form"},[n("div",{staticClass:"confirm-pin"},[n("BaseOTPInput",{staticClass:"confirm-pin-input ui-onboard-input",attrs:{value:e.otp},on:{change:e.onOtpChange,complete:e.onOtpChange}})],1),n("p",{staticClass:"resend-email"},[e._v(" Didn't receive the code? "),n("a",{staticClass:"ui-onboard-link",on:{click:function(t){return t.preventDefault(),e.resendCode(t)}}},[e._v("Resend Code")])]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.didResend,expression:"didResend"}],staticClass:"resend-email resend-email--done"},[e._v(" Confirmation code sent ")]),e.error?n("b-form-invalid-feedback",{staticClass:"confirm-email-error",attrs:{id:"input-1-live-feedback"}},[e._v(e._s(e.error)+" ")]):e._e(),n("button",{staticClass:"ui-btn btn-block ui-onboard-btn",on:{click:function(t){return t.preventDefault(),e.submitConfirmation(t)}}},[e.loading?n("b-spinner",{attrs:{med:"",label:"loader"}}):n("span",[e._v(" Confirm Account ")])],1)],1)]),n("div",{staticClass:"ui-text-bottom"},[n("span",{staticClass:"ui-text-bottom--main",class:{"ui-text-bottom--trouble":!e.hasTrouble},on:{click:e.toggleTrouble}},[e._v(" Trouble Confirming Your Email? ")]),e.hasTrouble?n("div",{staticClass:"ui-text-bottom--subtitle__container"},[e._m(0)]):e._e()])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ui-text-bottom--subtitle"},[e._v(" Please check your spam folder and if you continue to have trouble Please email us at "),n("a",{staticClass:"ui-onboard-link",attrs:{href:"mailto: confirm@bizfluenceapp.com"}},[e._v("confirm@bizfluenceapp.com")])])}],r=n("1da1"),o=(n("96cf"),n("652b")),s=n.n(o),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-input-default"},[n("v-otp-input",{ref:"otpInput",attrs:{"input-classes":"ui-input-default__input",separator:"&nbsp","num-inputs":4,"should-auto-focus":!0,"input-type":"number","is-input-num":!0},on:{"on-change":e.onChange,"on-complete":e.onCompleteValue}})],1)},u=[],l=(n("a9e3"),{components:{},props:{value:{type:Number}},name:"BaseInput",emits:["change","complete"],data:function(){return{inputValue:null}},methods:{onChange:function(e){this.$emit("change",e)},onCompleteValue:function(e){this.$emit("complete",e)}}}),d=l,m=(n("dc3c"),n("2877")),p=Object(m["a"])(d,c,u,!1,null,"3466d21c",null),f=p.exports,h={name:"ConfirmAccount",components:{BaseOTPInput:f},data:function(){return{icon:s.a,otp:null,loading:!1,error:null,didResend:!1,hasTrouble:!1}},computed:{email:function(){return this.$store.getters["auth/getUserEmail"]},password:function(){return this.$store.getters["auth/getUserPassword"]},onboarded:function(){return this.$store.getters["profile/getProfileOnboarded"]}},watch:{email:function(e){console.log(e)}},methods:{resendCode:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.didResend=!1,t.next=3,e.$store.dispatch("auth/resendConfirmEmail",e.email);case 3:e.didResend=!0;case 4:case"end":return t.stop()}}),t)})))()},submitConfirmation:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.didResend=!1,n={email:e.email,code:e.otp},t.prev=2,e.loading=!0,t.next=6,e.$store.dispatch("auth/confirmEmail",n);case 6:if(a=t.sent,!a){t.next=10;break}return t.next=10,e.loginUser();case 10:e.onboarded?(e.$store.dispatch("auth/login"),e.$router.push("/")):e.$router.push("/account-created"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),e.error=t.t0.response.data.message;case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})))()},loginUser:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={email:e.email,password:e.password,auth:!1},t.next=3,e.$store.dispatch("auth/signInUser",n);case 3:case"end":return t.stop()}}),t)})))()},onOtpChange:function(e){this.otp=+e},toggleTrouble:function(){this.hasTrouble=!this.hasTrouble}}},b=h,v=(n("52c3"),Object(m["a"])(b,a,i,!1,null,"24d7fdc2",null));t["default"]=v.exports},"52c3":function(e,t,n){"use strict";n("0c2e")},"652b":function(e,t,n){e.exports=n.p+"img/ic-confirm-acc.f06f09ba.svg"},"9e1b":function(e,t,n){},dc3c:function(e,t,n){"use strict";n("9e1b")}}]);