(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1327c0a5"],{"0d2b":function(e,t,n){},"10f2":function(e,t,n){},"12f8":function(e,t,n){},"16e5":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"windowWrapper",staticClass:"chat-window",class:{"chat-embedded":e.embedded}},["personal"===e.conversation.type?n("ChatWindowHeader",{attrs:{conversation:e.conversation,embedded:e.embedded}}):e._e(),"network"===e.conversation.type?n("ChatWindowHeaderNetwork",{attrs:{conversation:e.conversation,embedded:e.embedded}}):e._e(),"group"===e.conversation.type?n("ChatWindowHeaderGroup",{attrs:{conversation:e.conversation,embedded:e.embedded}}):e._e(),n("b-collapse",{class:{"chat-window__collapse":!e.embedded,"chat-embedded__collapse":e.embedded},attrs:{id:"collapse-"+e.conversationId,visible:e.conversation.isOpen||e.embedded}},[n("ChatContent",{key:e.conversationId,attrs:{embedded:e.embedded,isMain:e.isMain,setParentMessage:e.setParentMessage,conversation:e.conversation}}),n("ChatNew",{ref:"chat-window-compose",attrs:{clearParentMessage:e.clearParentMessage,parentMessage:e.parentMessage,conversation:e.conversation}})],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.conversation.user?n("div",{staticClass:"chat-window-header"},[n("div",{staticClass:"chat-window-header__profile-img clickable",on:{click:e.handleHeaderClick}},[n("img",{staticClass:"user-image",attrs:{src:e.conversation.user.picture?e.conversation.user.picture.formats&&e.conversation.user.picture.formats.thumbnail?e.conversation.user.picture.formats.thumbnail.url:e.conversation.user.picture.url:e.userIcon}}),e.userOnline?n("span",{staticClass:"user-status user-status--online"}):e._e()]),n("div",{staticClass:"chat-window-header__profile-title",attrs:{"v-b-toggle":"collapse-"+e.conversation._id}},[n("p",{staticClass:"user-name clickable",on:{click:e.handleHeaderClick}},[e._v(" "+e._s(e.conversation.user.title)+" ")])]),n("div",{staticClass:"chat-window-header__more"},[e.conversation.isOpen&&!e.conversation.request?n("base-icon-dropdown",{staticClass:"chat-window-header__more-button",attrs:{"no-caret":"",right:""}},["group"===e.conversation.type?n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Add member ")]):e._e(),"group"===e.conversation.type?n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Remove member ")]):e._e(),"group"===e.conversation.type?n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Members ")]):e._e(),"group"===e.conversation.type?n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Leave group ")]):e._e(),"group"===e.conversation.type?n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Mute group ")]):e._e(),"group"===e.conversation.type?n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Rename group ")]):e._e(),"group"===e.conversation.type?n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Block member ")]):e._e(),n("base-list-item-default",{attrs:{button:"",icon:e.deleteIcon,isImg:""},on:{click:e.deleteConversation}},[e._v(" Delete chat ")]),n("base-list-item-default",{attrs:{button:"",icon:e.deleteIcon,isImg:""},on:{click:e.deleteConversationAndBlock}},[e._v(" Delete and block user ")]),n("base-list-item-default",{attrs:{button:"",icon:e.deleteIcon,isImg:""},on:{click:e.deleteConversationAndMessages}},[e._v(" Delete chat and all my messages ")])],1):e._e(),e.conversation.isOpen?n("base-icon-button",{staticClass:"chat-window-header__more-button",attrs:{icon:e.minimizeIcon,isImg:"",width:24},on:{iconClicked:e.minimize}}):e._e(),e.conversation.isOpen?n("base-icon-button",{staticClass:"chat-window-header__more-button",attrs:{icon:e.fullscreenIcon,isImg:"",width:24},on:{iconClicked:e.openInMessaging}}):e._e(),n("base-icon-button",{staticClass:"chat-window-header__close-button mr-1",attrs:{icon:"icon-ic-modal-close"},on:{iconClicked:e.close}})],1)]):n("div",{staticClass:"chat-window-header"},[n("div",{staticClass:"chat-window-header__wrapper"},[n("base-input-search",{ref:"searchInput",staticClass:"ui-hide-mobile contact-lookup",attrs:{"clear-on-focus-out":!0,placeholder:"Select recipient..."},on:{focusIn:e.focusIn,focusOut:e.focusOut,input:e.onSearchInputChange}}),e.searchResults?n("div",{staticClass:"search-results"},[e.searchResults&&e.searchResults.length?n("section",{staticClass:"users"},[n("ul",{staticClass:"search-results-list-container"},e._l(e.searchResults,(function(t){return n("li",{key:t.id},[n("div",{staticClass:"search-results-item",on:{mousedown:function(n){return n.preventDefault(),e.selectUser(t)}}},[e.hasProfileImage(t)?n("blur-hash-image",{staticClass:"search-results-item__image clickable",attrs:{hash:t.picture.blurHash?t.picture.blurHash:"LdHfL}oJR$WBKnfi%3ofT0kCM{ay",src:t.picture.fromats&&t.picture.fromats.thumbnail?t.picture.fromats.thumbnail.url:t.picture.url,transitionDuration:500,alt:"Profile Picture"}}):n("b-skeleton",{staticClass:"search-results-item__image",attrs:{type:"avatar"}}),n("div",{staticClass:"search-results-item__name-container"},[n("p",{staticClass:"search-results-item__name clickable"},[e._v(" "+e._s(t.title)+" ")]),n("p",{staticClass:"search-results-item__subtitle"},[e._v(" "+e._s(t.subtitle)+" ")])])],1),n("hr",{staticClass:"search-item-divider"})])})),0)]):e._e(),e.searchLoading?n("section",{staticClass:"users"},[n("ul",{staticClass:"search-results-list-container search-results-list-container--loading"},e._l(5,(function(e){return n("li",{key:e},[n("div",{staticClass:"search-results-item search-results-item--loading"},[n("b-skeleton",{attrs:{type:"avatar"}}),n("div",{staticClass:"\n                  w-100\n                search-results-item__name-skeleton-container\n                  search-results-item__name-container--loading\n                "},[n("b-skeleton",{attrs:{width:"30%"}}),n("b-skeleton",{attrs:{width:"80%"}})],1)],1)])})),0)]):e._e()]):e._e()],1),n("div",{staticClass:"chat-window-header__more"},[n("base-icon-button",{staticClass:"chat-window-header__close-button mr-1",attrs:{icon:"icon-ic-modal-close"},on:{iconClicked:e.close}})],1)])},a=[],r=n("1da1"),c=(n("96cf"),n("2ef0")),l=n("7db5"),u=n("f367"),d=n("b65d"),h=n("8f1b"),f=n("123f"),p=n("89ed"),g=n.n(p),v=n("f69e"),m=n.n(v),b=n("8c0a"),w=n.n(b),C=n("77f0"),_=n.n(C),y=n("d4f2"),k={name:"ChatWindowHeader",components:{BaseListItemDefault:h["a"],BaseIconDropdown:d["a"],BaseIconButton:u["default"],BaseInputSearch:f["default"],BlurHashImage:y["BlurHashImage"]},props:{vBTtoggle:String,conversation:Object},data:function(){return{minimizeIcon:g.a,deleteIcon:m.a,userIcon:_.a,fullscreenIcon:w.a,searchLoading:!1,searchText:"",searchResults:[]}},computed:{userOnline:function(){return this.$store.getters["chat/getUsersOnlineStatus"][this.conversation.user.id]},greaterThanMaxCount:function(){return this.conversation.unreadMessages>9}},methods:{close:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("chat/setConversationActive",{conversation:e.conversation,isActive:!1});case 2:case"end":return t.stop()}}),t)})))()},deleteConversation:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("chat/deleteConversation",{conversationId:e.conversation._id});case 2:e.$bvToast.toast("Chat deleted successfully",{autoHideDelay:2e3,noCloseButton:!0,toaster:"b-toaster-top-center"});case 3:case"end":return t.stop()}}),t)})))()},deleteConversationAndBlock:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("chat/deleteConversationAndBlock",{conversationId:e.conversation._id});case 2:e.$bvToast.toast("Chat deleted and user blocked successfully",{autoHideDelay:2e3,noCloseButton:!0,toaster:"b-toaster-top-center"});case 3:case"end":return t.stop()}}),t)})))()},deleteConversationAndMessages:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("chat/deleteConversationAndMessages",{conversationId:e.conversation._id});case 2:e.$bvToast.toast("Chat and all messages deleted successfully",{autoHideDelay:2e3,noCloseButton:!0,toaster:"b-toaster-top-center"});case 3:case"end":return t.stop()}}),t)})))()},hasProfileImage:function(e){return!(!e.picture||!e.picture.url)},handleHeaderClick:function(){this.conversation.isOpen?this.goToProfile():this.toggle()},goToProfile:function(){this.$router.push({path:"/profiles/".concat(this.conversation.user.handle)})},toggle:function(){this.$store.dispatch("chat/toggleFloatingConversation",{conversation:this.conversation,isOpen:!this.conversation.isOpen})},selectUser:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("chat/getPersonalConversation",{profileId:e._id});case 2:if(s=n.sent,!s._id){n.next=14;break}return n.next=6,t.$store.dispatch("chat/toggleFloatingConversation",{conversation:s,isOpen:!0});case 6:if(i=n.sent,i){n.next=12;break}return s.isOpen=!0,s.messages=[],n.next=12,t.$store.dispatch("chat/replaceFloatingConversationByWindowId",{conversation:s,windowId:t.conversation.windowId});case 12:n.next=18;break;case 14:return o=t.conversation,o.user=e,n.next=18,t.$store.dispatch("chat/replaceFloatingConversationByWindowId",{conversation:o,windowId:t.conversation.windowId});case 18:case"end":return n.stop()}}),n)})))()},openInMessaging:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("chat/resetMainConversation");case 2:return e.$router.push("/messaging/".concat(e.conversation._id)),t.next=5,e.$store.dispatch("chat/selectMainConversation",e.conversation);case 5:e.minimize();case 6:case"end":return t.stop()}}),t)})))()},minimize:function(){this.conversation.isOpen&&this.$store.dispatch("chat/toggleFloatingConversation",{conversation:this.conversation,isOpen:!1})},retrieveSearchResults:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.searchLoading=!0,n.next=3,l["a"].get("/v2/profiles/search?text=".concat(e));case 3:s=n.sent,t.searchResults=s.data,t.searchLoading=!1;case 6:case"end":return n.stop()}}),n)})))()},onSearchInputChange:Object(c["debounce"])((function(e){this.searchText=e,this.searchText&&this.searchText.length>0?this.retrieveSearchResults(this.searchText):this.searchResults=null}),500),focusIn:function(){this.searchIsInFocus=!0},focusOut:function(){this.searchResults=null,this.searchText=null,this.$refs.searchInput.$refs.input.blur()}}},x=k,I=(n("cd4b"),n("2877")),M=Object(I["a"])(x,o,a,!1,null,"35895916",null),$=M.exports,S=n("f593"),O=n("73a1"),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-window-header"},[e._m(0),n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-x",expression:"'collapse-x'"}],staticClass:"chat-window-header__profile-title"},[n("p",{staticClass:"user-name"},[e._v(" Alexa HansenAlexa ")]),n("p",{staticClass:"user-extra"},[e._v(" 03 Members ")])]),n("div",{staticClass:"chat-window-header__more"},[n("base-icon-dropdown",{staticClass:"chat-window-header__more-button",attrs:{"no-caret":"",right:""}},[n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Add member ")]),n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Remove member ")]),n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Members ")]),n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Leave group ")]),n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Mute group ")]),n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Rename group ")]),n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Block member ")]),n("base-list-item-default",{attrs:{icon:"icon-follow"}},[e._v(" Delete chat ")])],1),n("base-icon-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-x",expression:"'collapse-x'"}],staticClass:"chat-window-header__more-button",attrs:{icon:"icon-ic-more"}}),n("base-icon-button",{staticClass:"chat-window-header__close-button",attrs:{icon:"icon-ic-modal-close"}})],1)])},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-window-header__profile-img chat-window-header__profile-img--group"},[n("img",{staticClass:"user-image",attrs:{src:"https://bizfluence-media.nyc3.cdn.digitaloceanspaces.com/9f683c62d2136a2cbd2a147ef97d6cea.jpg"}}),n("img",{staticClass:"user-image",attrs:{src:"https://bizfluence-media.nyc3.cdn.digitaloceanspaces.com/949d2dbaf9af78300b4a4b9c645efba9.jpg"}})])}],B={name:"ChatWindowHeaderGroup",components:{BaseListItemDefault:h["a"],BaseIconDropdown:d["a"],BaseIconButton:u["default"]},props:{vBTtoggle:String}},T=B,H=(n("e6ec"),Object(I["a"])(T,R,j,!1,null,"76c5d26a",null)),N=H.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-window-header"},[n("div",{staticClass:"chat-window-header__profile-img chat-window-header__profile-img--network clickable",on:{click:e.handleHeaderClick}},[n("img",{staticClass:"user-image",attrs:{src:e.conversation.network.banner?e.conversation.network.banner.url:e.defaultNetworkIcon}})]),n("div",{staticClass:"chat-window-header__profile-title",attrs:{"v-b-toggle":"collapse-"+e.conversation._id}},[n("p",{staticClass:"user-name clickable",on:{click:e.handleHeaderClick}},[e._v(" "+e._s(e.conversation.network.name)+" ")])]),e.embedded?e._e():n("div",{staticClass:"chat-window-header__more"},[e.conversation.isOpen?n("base-icon-button",{staticClass:"chat-window-header__more-button",attrs:{icon:e.minimizeIcon,isImg:"",width:24},on:{iconClicked:e.minimize}}):e._e(),n("base-icon-button",{staticClass:"chat-window-header__close-button mr-1",attrs:{icon:"icon-ic-modal-close"},on:{iconClicked:e.close}})],1)])},P=[],z=n("522f"),A=n.n(z),U={name:"ChatWindowHeaderNetwork",components:{BaseIconButton:u["default"]},props:{vBTtoggle:String,conversation:Object,embedded:Boolean},data:function(){return{minimizeIcon:g.a,deleteIcon:m.a,defaultNetworkIcon:A.a}},methods:{close:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("chat/setConversationActive",{conversation:e.conversation,isActive:!1});case 2:case"end":return t.stop()}}),t)})))()},handleHeaderClick:function(){this.conversation.isOpen?this.openInMessaging():this.toggle()},toggle:function(){this.$store.dispatch("chat/toggleFloatingConversation",{conversation:this.conversation,isOpen:!this.conversation.isOpen})},openInMessaging:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("chat/resetMainConversation");case 2:return e.$router.push("/messaging/".concat(e.conversation._id)),t.next=5,e.$store.dispatch("chat/selectMainConversation",e.conversation);case 5:e.minimize();case 6:case"end":return t.stop()}}),t)})))()},minimize:function(){this.conversation.isOpen&&this.$store.dispatch("chat/toggleFloatingConversation",{conversation:this.conversation,isOpen:!1})}}},W=U,D=(n("6785"),Object(I["a"])(W,F,P,!1,null,"24780401",null)),E=D.exports,L={name:"ChatWindow",props:{conversation:Object,isMain:Boolean,embedded:Boolean,canSendMessage:{type:Boolean,default:!0}},components:{ChatNew:O["a"],ChatContent:S["a"],ChatWindowHeader:$,ChatWindowHeaderGroup:N,ChatWindowHeaderNetwork:E},data:function(){return{parentMessage:null}},computed:{conversationId:function(){return this.conversation._id?this.conversation._id:this.conversation.windowId}},methods:{setParentMessage:function(e){this.parentMessage=e},clearParentMessage:function(){this.parentMessage=null}}},q=L,G=(n("d28a"),Object(I["a"])(q,s,i,!1,null,"a2b828c6",null));t["a"]=G.exports},"1d2c":function(e,t,n){"use strict";n("12f8")},6785:function(e,t,n){"use strict";n("8046")},6992:function(e,t,n){"use strict";n("0d2b")},8046:function(e,t,n){},"89ed":function(e,t,n){e.exports=n.p+"img/minimize-icon.ee53f611.svg"},bf06:function(e,t,n){},cb6d:function(e,t,n){},cd4b:function(e,t,n){"use strict";n("10f2")},d28a:function(e,t,n){"use strict";n("cb6d")},e6ec:function(e,t,n){"use strict";n("bf06")},e800:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messaging-overlay ui-hide-mobile"},[n("div",{staticClass:"messaging-overlay-sidebar-wrapper"},[n("Sidebar",{ref:"sidebar"})],1),n("div",{staticClass:"chat-windows-wrapper",style:{marginRight:20+(this.$refs.sidebar&&this.$refs.sidebar.showSidebar?280:20)+"px"}},e._l(e.floatingConversations,(function(e){return n("div",{key:(e._id?e._id:e.windowId)+"-wrapper",staticClass:"chat-window-wrapper"},[n("ChatWindow",{key:e._id?e._id:e.windowId,staticClass:"chat-window",attrs:{conversation:e}})],1)})),0),n("b-modal",{attrs:{id:"chats-filter-modal"},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v("Filter chats")]},proxy:!0},{key:"modal-footer",fn:function(){return[n("div")]},proxy:!0}])},[n("div",{staticClass:"filter-settings__container"},[n("div",{staticClass:"settings-item"},[n("div",{staticClass:"settings-item__header "},[n("div",{staticClass:"settings-item__header--label"},[e._v(" Personal Chats ")]),n("div",{staticClass:"settings-item__header--switch"},[n("toggle-button",{attrs:{width:35,height:20,color:{checked:"var(--color-toggle-button)",unchecked:"var(--text-color-third)"},sync:!0,labels:!1},model:{value:e.$store.state.chat.conversationFilters.personal,callback:function(t){e.$set(e.$store.state.chat.conversationFilters,"personal",t)},expression:"$store.state.chat.conversationFilters.personal"}})],1)])]),n("div",{staticClass:"settings-item"},[n("div",{staticClass:"settings-item__header "},[n("div",{staticClass:"settings-item__header--label"},[e._v(" Network Chats ")]),n("div",{staticClass:"settings-item__header--switch"},[n("toggle-button",{attrs:{width:35,height:20,color:{checked:"var(--color-toggle-button)",unchecked:"var(--text-color-third)"},sync:!0,labels:!1},model:{value:e.$store.state.chat.conversationFilters.network,callback:function(t){e.$set(e.$store.state.chat.conversationFilters,"network",t)},expression:"$store.state.chat.conversationFilters.network"}})],1)])]),n("div",{staticClass:"settings-item__footer"})])])],1)},i=[],o=n("5530"),a=n("16e5"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messaging-sidebar-wrapper"},[n("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[e.showSidebar?e._e():n("span",{staticClass:"sidebar-toggle-button",on:{click:e.toggleSidebar}},[n("base-icon-button",{staticClass:"toggle-caret flip",attrs:{icon:e.arrowRight,width:24,isImg:""}}),e.messageCount?n("div",{staticClass:"messages-count",style:{fontSize:e.greaterThanMaxCount?"9px":"10px"}},[e._v(" "+e._s(e.greaterThanMaxCount?"+9":e.messageCount)+" ")]):e._e(),n("span",{staticClass:"sidebar-toggle-button-text"},[e._v(" Messaging ")])],1),e.showSidebar?n("div",{attrs:{id:"messaging-sidebar"}},[n("div",{staticClass:"messaging-sidebar-menu-header"},[n("h2",{staticClass:"messaging-sidebar-menu-header__text"},[e._v("Messaging")]),n("div",{staticClass:"messaging-user-header__more"},[n("base-icon-button",{staticClass:"messaging-sidebar-menu-header__button",attrs:{icon:e.fullscreenIcon,width:24,isImg:""},on:{iconClicked:e.goToMessaging}}),n("base-icon-button",{staticClass:"messaging-sidebar-menu-header__button--edit",attrs:{icon:"icon-edit-box"},on:{iconClicked:e.composeMessage}}),n("base-icon-button",{staticClass:"messaging-sidebar-menu-header__button--edit",attrs:{icon:e.arrowRight,width:24,isImg:""},on:{iconClicked:e.toggleSidebar}})],1)]),n("MessagingHistory")],1):e._e()])],1)},c=[],l=(n("d3b7"),n("3ca3"),n("ddb0"),n("4de4"),n("25f0"),n("7d7b")),u=n.n(l),d=n("4a0d"),h=n.n(d),f=n("292e"),p=n.n(f),g=n("2eea"),v=n.n(g),m=n("8c0a"),b=n.n(m),w=n("ef82"),C=n.n(w),_=function(){return Promise.resolve().then(n.bind(null,"8594"))},y=function(){return Promise.resolve().then(n.bind(null,"f367"))},k={name:"MessagingSidebar",components:{MessagingHistory:_,BaseIconButton:y},data:function(){return{activeStatusIcon:u.a,autoRepliesIcon:h.a,requestsIcon:p.a,manageChatsIcon:v.a,fullscreenIcon:b.a,arrowRight:C.a,showSidebar:!1,preventClose:!1}},computed:{conversations:function(){return this.$store.getters["chat/getConversations"].filter((function(e){return!e.request}))},messageCount:function(){return this.$store.getters["chat/getUnreadCount"]+this.$store.getters["chat/getRequestsCount"]},greaterThanMaxCount:function(){return this.count>this.maxCount}},methods:{toggleSidebar:function(){this.showSidebar=!this.showSidebar,this.$emit("openMsgSidebar",!0)},goToMessaging:function(){this.showSidebar=!1,this.$router.push("/messaging")},composeMessage:function(){this.$store.dispatch("chat/openFloatingConversation",{conversation:{windowId:Math.random().toString(36).substring(2,15),user:null,isNew:!0,type:"personal"},isOpen:!0})}}},x=k,I=(n("6992"),n("2877")),M=Object(I["a"])(x,r,c,!1,null,"1fcc52f4",null),$=M.exports,S=n("f206"),O={name:"MessagingMain",components:{ChatWindow:a["a"],ToggleButton:S["ToggleButton"],Sidebar:$},data:function(){return{conversationFilters:{personal:!0,network:!0,group:!0},openMsg:!1}},computed:{isMobile:function(){return this.$store.getters["networks/getMobileScreenWidth"]},floatingConversations:function(){return this.$store.getters["chat/getFloatingConversations"]},isAuth:function(){return this.$store.getters["auth/getAuthStatus"]}},sockets:{newConversation:function(e){this.$store.dispatch("chat/addConversations",[e.conversation]),this.$store.dispatch("chat/getTotalUnread")},chatRequestConfirmed:function(e){this.$store.dispatch("chat/setConversationRequest",{conversationId:e.chatId,type:"accept"})},newMessage:function(e){var t=e.chatId,n=e.message;n.userId=n.user.id,n.user.id!==this.$store.getters["profile/getProfileId"]&&(n.my=!1),this.$store.dispatch("chat/receiveMessage",{chatId:t,message:n}),this.$store.dispatch("chat/getTotalUnread")},startTyping:function(e){var t=Object(o["a"])(Object(o["a"])({},e),{},{isTyping:!0});this.$store.dispatch("chat/setTypingInChat",t)},stopTyping:function(e){var t=Object(o["a"])(Object(o["a"])({},e),{},{isTyping:!1});this.$store.dispatch("chat/setTypingInChat",t)}},mounted:function(){this.isAuth&&(this.$store.dispatch("chat/getTotalUnread"),this.$store.dispatch("chat/getActiveConversations"))},methods:{saveFilters:function(){this.$store.commit("chat/setConversationFilters",this.conversationFilters)},expandSidebar:function(){this.openMsg=!this.openMsg}}},R=O,j=(n("1d2c"),Object(I["a"])(R,s,i,!1,null,"65bcdf4f",null));t["default"]=j.exports},ef82:function(e,t,n){e.exports=n.p+"img/caret-right-icon.eb05fec6.svg"},f206:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=2)}([function(e,t,n){n(8);var s=n(6)(n(1),n(7),"data-v-25adc6c0",null);e.exports=s.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="#75c791",a="#bfcbd9",r="on",c="off",l="#fff";t["default"]={name:"ToggleButton",props:{value:{type:Boolean,default:!1},name:{type:String},disabled:{type:Boolean,default:!1},tag:{type:String},sync:{type:Boolean,default:!1},speed:{type:Number,default:300},color:{type:[String,Object],validator:function(e){return n.i(s["a"])(e)||n.i(s["b"])(e,"checked")||n.i(s["b"])(e,"unchecked")||n.i(s["b"])(e,"disabled")}},switchColor:{type:[String,Object],validator:function(e){return n.i(s["a"])(e)||n.i(s["b"])(e,"checked")||n.i(s["b"])(e,"unchecked")}},cssColors:{type:Boolean,default:!1},labels:{type:[Boolean,Object],default:!1,validator:function(e){return"object"===("undefined"===typeof e?"undefined":i(e))?e.checked||e.unchecked:"boolean"===typeof e}},height:{type:Number,default:22},width:{type:Number,default:50},margin:{type:Number,default:3},fontSize:{type:Number}},computed:{className:function(){var e=this.toggled,t=this.disabled;return["vue-js-switch",{toggled:e,disabled:t}]},coreStyle:function(){return{width:n.i(s["c"])(this.width),height:n.i(s["c"])(this.height),backgroundColor:this.cssColors?null:this.disabled?this.colorDisabled:this.colorCurrent,borderRadius:n.i(s["c"])(Math.round(this.height/2))}},buttonRadius:function(){return this.height-2*this.margin},distance:function(){return n.i(s["c"])(this.width-this.height+this.margin)},buttonStyle:function(){var e="transform "+this.speed+"ms",t=n.i(s["c"])(this.margin),i=this.toggled?n.i(s["d"])(this.distance,t):n.i(s["d"])(t,t),o=this.switchColor?this.switchColorCurrent:null;return{width:n.i(s["c"])(this.buttonRadius),height:n.i(s["c"])(this.buttonRadius),transition:e,transform:i,background:o}},labelStyle:function(){return{lineHeight:n.i(s["c"])(this.height),fontSize:this.fontSize?n.i(s["c"])(this.fontSize):null}},colorChecked:function(){var e=this.color;return n.i(s["e"])(e)?n.i(s["f"])(e,"checked",o):e||o},colorUnchecked:function(){return n.i(s["f"])(this.color,"unchecked",a)},colorDisabled:function(){return n.i(s["f"])(this.color,"disabled",this.colorCurrent)},colorCurrent:function(){return this.toggled?this.colorChecked:this.colorUnchecked},labelChecked:function(){return n.i(s["f"])(this.labels,"checked",r)},labelUnchecked:function(){return n.i(s["f"])(this.labels,"unchecked",c)},switchColorChecked:function(){return n.i(s["f"])(this.switchColor,"checked",l)},switchColorUnchecked:function(){return n.i(s["f"])(this.switchColor,"unchecked",l)},switchColorCurrent:function(){this.switchColor;return n.i(s["e"])(this.switchColor)?this.toggled?this.switchColorChecked:this.switchColorUnchecked:this.switchColor||l}},watch:{value:function(e){this.sync&&(this.toggled=!!e)}},data:function(){return{toggled:!!this.value}},methods:{toggle:function(e){var t=!this.toggled;this.sync||(this.toggled=t),this.$emit("input",t),this.$emit("change",{value:t,tag:this.tag,srcEvent:e})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n.n(s);n.d(t,"ToggleButton",(function(){return i.a}));var o=!1;t["default"]={install:function(e){o||(e.component("ToggleButton",i.a),o=!0)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){return"string"===typeof e},o=function(e){return"object"===("undefined"===typeof e?"undefined":s(e))},a=function(e,t){return o(e)&&e.hasOwnProperty(t)},r=function(e,t,n){return a(e,t)?e[t]:n},c=function(e){return e+"px"},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0px";return"translate3d("+e+", "+t+", "+n+")"}},function(e,t,n){t=e.exports=n(5)(),t.push([e.i,".vue-js-switch[data-v-25adc6c0]{display:inline-block;position:relative;vertical-align:middle;user-select:none;font-size:10px;cursor:pointer}.vue-js-switch .v-switch-input[data-v-25adc6c0]{opacity:0;position:absolute;width:1px;height:1px}.vue-js-switch .v-switch-label[data-v-25adc6c0]{position:absolute;top:0;font-weight:600;color:#fff;z-index:1}.vue-js-switch .v-switch-label.v-left[data-v-25adc6c0]{left:10px}.vue-js-switch .v-switch-label.v-right[data-v-25adc6c0]{right:10px}.vue-js-switch .v-switch-core[data-v-25adc6c0]{display:block;position:relative;box-sizing:border-box;outline:0;margin:0;transition:border-color .3s,background-color .3s;user-select:none}.vue-js-switch .v-switch-core .v-switch-button[data-v-25adc6c0]{display:block;position:absolute;overflow:hidden;top:0;left:0;border-radius:100%;background-color:#fff;z-index:2}.vue-js-switch.disabled[data-v-25adc6c0]{pointer-events:none;opacity:.6}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"===typeof t&&(t=[[null,t,""]]);for(var s={},i=0;i<this.length;i++){var o=this[i][0];"number"===typeof o&&(s[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"===typeof a[0]&&s[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){e.exports=function(e,t,n,s){var i,o=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(i=e,o=e.default);var r="function"===typeof o?o.options:o;if(t&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns),n&&(r._scopeId=n),s){var c=Object.create(r.computed||null);Object.keys(s).forEach((function(e){var t=s[e];c[e]=function(){return t}})),r.computed=c}return{esModule:i,exports:o,options:r}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.className},[n("input",{staticClass:"v-switch-input",attrs:{type:"checkbox",name:e.name,disabled:e.disabled},domProps:{checked:e.value},on:{change:function(t){return t.stopPropagation(),e.toggle(t)}}}),e._v(" "),n("div",{staticClass:"v-switch-core",style:e.coreStyle},[n("div",{staticClass:"v-switch-button",style:e.buttonStyle})]),e._v(" "),e.labels?[e.toggled?n("span",{staticClass:"v-switch-label v-left",style:e.labelStyle},[e._t("checked",[[e._v(e._s(e.labelChecked))]])],2):n("span",{staticClass:"v-switch-label v-right",style:e.labelStyle},[e._t("unchecked",[[e._v(e._s(e.labelUnchecked))]])],2)]:e._e()],2)},staticRenderFns:[]}},function(e,t,n){var s=n(4);"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);n(9)("2283861f",s,!0)},function(e,t,n){var s="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i=n(10),o={},a=s&&(document.head||document.getElementsByTagName("head")[0]),r=null,c=0,l=!1,u=function(){},d="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e){for(var t=0;t<e.length;t++){var n=e[t],s=o[n.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](n.parts[i]);for(;i<n.parts.length;i++)s.parts.push(p(n.parts[i]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(p(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:a}}}}function f(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function p(e){var t,n,s=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(s){if(l)return u;s.parentNode.removeChild(s)}if(d){var i=c++;s=r||(r=f()),t=v.bind(null,s,i,!1),n=v.bind(null,s,i,!0)}else s=f(),t=m.bind(null,s),n=function(){s.parentNode.removeChild(s)};return t(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;t(e=s)}else n()}}e.exports=function(e,t,n){l=n;var s=i(e,t);return h(s),function(t){for(var n=[],a=0;a<s.length;a++){var r=s[a],c=o[r.id];c.refs--,n.push(c)}t?(s=i(e,t),h(s)):s=[];for(a=0;a<n.length;a++){c=n[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,s){var i=n?"":s.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function m(e,t){var n=t.css,s=t.media,i=t.sourceMap;if(s&&e.setAttribute("media",s),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},function(e,t){e.exports=function(e,t){for(var n=[],s={},i=0;i<t.length;i++){var o=t[i],a=o[0],r=o[1],c=o[2],l=o[3],u={id:e+":"+i,css:r,media:c,sourceMap:l};s[a]?s[a].parts.push(u):n.push(s[a]={id:a,parts:[u]})}return n}}])}))}}]);