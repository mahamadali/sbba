(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24ca37e7"],{"0190":function(t,e,n){},"039f":function(t,e,n){},1218:function(t,e,n){},1512:function(t,e,n){"use strict";n("9d77")},1643:function(t,e,n){},"1fe8":function(t,e,n){},3142:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui-onboard-form-wr ui-onboard-form--complete"},[n("div",{staticClass:"ui-onboard-form-wr__in"},[n("h2",{staticClass:"ui-onboard-heading"},[t._v(" Onboarding - Build Your Profile ")]),n("BaseProgressStepper",{attrs:{step:t.step,title:t.stepTitle,totalSteps:5}}),n("validation-observer",{ref:"observer"},[n("form",{attrs:{autocomplete:"nope"}},[n("div",{staticClass:"ui-flex-grow"},[n("transition",{attrs:{"enter-active-class":"animate__animated animate__fadeInRight animate__faster","leave-active-class":"animate__animated animate__fadeOutLeft animate__faster",mode:"out-in"}},[1===t.step?n("StepOne",{key:1,staticClass:"stepper-body",attrs:{subtitle:t.user.subtitle},on:{input:function(e){return t.user.subtitle=e}}}):2===t.step?n("StepTwo",{key:2,staticClass:"stepper-body",attrs:{description:t.user.description},on:{input:function(e){return t.user.description=e}}}):3===t.step?n("StepThree",{key:3,staticClass:"stepper-body",attrs:{showImageError:t.showImageError,pictureUrl:t.user.pictureUrl,pictureId:t.user.pictureId},on:{pictureUpload:t.onPictureUpload,pictureRemove:t.onPictureRemove}}):4===t.step?n("StepFour",{key:4,staticClass:"stepper-body",attrs:{city:t.user.city,country:t.user.country},on:{onCitySelected:t.onCitySelected,onCityNotFoundError:t.onCityNotFoundError}}):n("StepFive",{key:5,ref:"stepFive",staticClass:"stepper-body",attrs:{answers:t.answers},on:{"update:answers":function(e){t.answers=e}}})],1)],1)])]),n("div",{staticClass:"ui-text-right ui-onboard-btn-wr"},[n("div",{staticClass:"ui-onboard-bottom-container"},[5===t.step?n("div",{staticClass:"ui-note"},[t._m(0)]):t._e(),n("div",{staticClass:"ui-onboard-bottom-wr"},[1!==t.step?n("button",{staticClass:"ui-btn",on:{click:function(e){return e.preventDefault(),t.onBack(e)}}},[t._v(" Back ")]):n("div"),[t.nextButtonDisabled?n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"Please upload a profile picture to continue",delay:{show:300,hide:300},classes:"onboard-picture-tooltip"},expression:"{\n                content: 'Please upload a profile picture to continue',\n                delay: {\n                  show: 300,\n                  hide: 300,\n                },\n                classes: 'onboard-picture-tooltip',\n              }"}]},[n("button",{staticClass:"ui-btn ui-btn__next",class:""+(t.nextButtonDisabled?"ui-btn__next--disabled":null),attrs:{disabled:t.nextButtonDisabled},on:{click:function(e){return e.preventDefault(),t.onNext(e)}}},[t.loading?n("b-spinner",{attrs:{small:"",label:"loader"}}):[t._v(" Next "),n("span",{staticClass:"icon-arrow"})]],2)]):n("button",{staticClass:"ui-btn ui-btn__next",class:""+(t.nextButtonDisabled?"ui-btn__next--disabled":null),attrs:{disabled:t.nextButtonDisabled||t.cityNotFoundError},on:{click:function(e){return e.preventDefault(),t.onNext(e)}}},[t.loading?n("b-spinner",{attrs:{small:"",label:"loader"}}):[t._v(" "+t._s(5===t.step?"Finish":"Next")+" "),n("span",{staticClass:"icon-arrow"})]],2)]],2)])])],1),n("ErrorModal",{ref:"showQuestionsErrorModal",attrs:{id:"questions-error-modal",modalMessage:"Please at least answer one question to continue",modalMessageType:"error",generalError:!0}})],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("Note:")]),n("span",[t._v("Answer all of the questions to unlock posting - you can also complete them later")])])}],a=n("5530"),o=n("1da1"),i=(n("96cf"),n("a4d3"),n("e01a"),n("b0c0"),n("07ac"),n("b64b"),n("5319"),n("ac1f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"complete-steps"},[n("h2",{staticClass:"ui-onboard-title"},[t._v(" What work title do you want displayed under your profile? ")]),n("form",{staticClass:"ui-onboard-form"},[n("base-textarea",{staticClass:"ui-onboard-input",attrs:{id:"sign-in__textarea",value:t.subtitle,placeholder:"Ex. Product Manager at Widgets USA",name:"work-title"},on:{input:t.onInput}}),n("div",{staticClass:"ui-text-right ui-onboard-textarea-hint"},[t._v(" "+t._s(t.subtitle?t.subtitle.length:0)+"/75 Characters (recommended) ")])],1)])}),u=[],c=n("8409"),l={name:"StepOne",props:{subtitle:String},components:{BaseTextarea:c["a"]},methods:{onInput:function(t){this.$emit("input",t)}}},d=l,p=(n("1512"),n("2877")),m=Object(p["a"])(d,i,u,!1,null,null,null),f=m.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stepper"},[n("div",{staticClass:"stepper__meta"},[n("div",{staticClass:"stepper__meta--left"},[n("span",{staticClass:"step-number"},[t._v(t._s(t.step))]),n("span",{staticClass:"step-title"},[t._v(t._s(t.title))])]),n("div",{staticClass:"stepper__meta--right"},[n("span",{staticClass:"right-text"},[t._v("Step ")]),n("span",{staticClass:"step-number"},[t._v(t._s(t.step)+" ")]),n("span",{staticClass:"right-text"},[t._v("of ")]),n("span",{staticClass:"step-total"},[t._v(t._s(t.totalSteps))])])]),n("b-progress",{staticClass:"stepper__progress",attrs:{max:t.totalSteps}},[n("b-progress-bar",{staticClass:"stepper__progress--bar",attrs:{value:t.step}})],1)],1)},h=[],g=(n("a9e3"),{name:"BaseProgressStepper",props:{step:{type:Number,default:1,required:!0},title:{type:String,required:!0},totalSteps:{type:Number,required:!0}},computed:{progress:function(){return 2}}}),y=g,v=(n("dab7"),Object(p["a"])(y,b,h,!1,null,"238b2164",null)),_=v.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"complete-steps"},[n("h2",{staticClass:"ui-onboard-title"},[t._v("Tell the community about what you do")]),n("form",{staticClass:"ui-onboard-form"},[n("base-textarea",{staticClass:"ui-onboard-input",attrs:{id:"sign-in__textarea",value:t.description,placeholder:"Tell us about your current work, business, or where you are in your career journey. You can include what youâ€™ve done and what you plan on doing.",rows:"16",name:"profile-desc"},on:{input:t.onInput}})],1)])},w=[],x={name:"StepTwo",components:{BaseTextarea:c["a"]},props:{description:String},methods:{onInput:function(t){this.$emit("input",t)}}},S=x,k=Object(p["a"])(S,C,w,!1,null,"2abd7831",null),P=k.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"complete-steps"},[n("h2",{staticClass:"ui-onboard-title ui-justify-center"},[t._v("Upload a profile picture")]),n("form",{staticClass:"ui-onboard-form ui-align-center"},[n("div",{staticClass:"complete-steps__img-upload"},[t.loading?[n("div",{staticClass:"upload-img__img-loading"},[n("b-skeleton",{staticClass:"upload-img__img-skeleton"}),n("b-progress",{staticClass:"upload-img__img-progress",attrs:{"show-progress":"",animated:"",max:"100"}},[n("b-progress-bar",{staticClass:"upload-img__img-progress-bar",attrs:{value:t.progress}},[n("span",[n("strong",[t._v(" "+t._s(t.progress)+"% ")])])])],1)],1)]:[t.profilePicture?n("img",{staticClass:"complete-steps__img",attrs:{src:t.profilePicture}}):t._e()]],2),t.picture.url||t.pictureUrl?n("div",{staticClass:"after-upload-actions"},[n("file-upload",{ref:"upload",attrs:{for:"img-upload","input-id":"picture",extensions:t.uploadParams.extensions,accept:t.uploadParams.accept,multiple:t.uploadParams.multiple,directory:t.uploadParams.directory,thread:t.uploadParams.thread,drop:t.uploadParams.drop,"drop-directory":t.uploadParams.dropDirectory,"add-index":t.uploadParams.addIndex},on:{"input-file":t.inputPictureFile,"input-filter":t.inputFilter}},[n("button",{staticClass:"ui-btn ui-btn__outline after-upload-actions--btn"},[n("img",{attrs:{src:t.btn_camera}}),t._v(" Replace ")])]),n("button",{staticClass:"ui-btn ui-btn__outline after-upload-actions--btn",on:{click:t.onPictureRemove}},[n("span",{staticClass:"icon-remove"}),t._v(" Remove ")])],1):n("div",[n("file-upload",{ref:"upload",staticClass:"user-image__upload",attrs:{for:"img-upload","input-id":"picture",extensions:t.uploadParams.extensions,accept:t.uploadParams.accept,multiple:t.uploadParams.multiple,directory:t.uploadParams.directory,thread:t.uploadParams.thread,drop:t.uploadParams.drop,"drop-directory":t.uploadParams.dropDirectory,"add-index":t.uploadParams.addIndex},on:{"input-file":t.inputPictureFile,"input-filter":t.inputFilter}},[n("button",{staticClass:"ui-btn ui-btn__outline after-upload-actions--btn"},[n("img",{attrs:{src:t.btn_camera}}),t._v(" Add Headshot ")])])],1),!t.pictureId&&t.showImageError?n("span",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),t._m(0)])])},$=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" People do business with real people. "),n("br"),t._v(" Please use a picture of yourself appropriate for a business setting ")])}],F=(n("2b3d"),n("d3b7"),n("3ca3"),n("ddb0"),n("77f0")),N=n.n(F),O=n("fb0a"),j=n.n(O),I=n("8019"),q=n.n(I),R={name:"StepThree",components:{FileUpload:q.a},emits:["pictureUpload"],data:function(){return{onboard_profile:N.a,btn_camera:j.a,picture:{url:null},loading:!1,progress:0,uploadParams:{extensions:"gif,jpg,jpeg,png,webp",accept:"image/png,image/gif,image/jpeg,image/webp",minSize:1024,size:10485760,multiple:!1,directory:!1,drop:!0,dropDirectory:!1,createDirectory:!1,addIndex:!1,thread:3},errorMessage:"Please upload a profile picture to continue"}},props:{pictureId:String,pictureUrl:String,showImageError:Boolean},computed:{profilePicture:function(){return this.picture.url||this.pictureUrl||N.a}},methods:{inputPictureFile:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t||e){r.next=13;break}return n.loading=!0,n.progress=0,s=500,a=setInterval((function(){n.progress<90?n.progress+=10:n.progress<99&&(n.progress+=3,s=1e3)}),s),r.next=7,n.$store.dispatch("profile/uploadImage",{newFile:t});case 7:o=r.sent,n.picture=t,n.progress=100,console.log("ðŸš€ ~ file: StepThree.vue ~ line 120 ~ inputPictureFile ~ imageId",o),setTimeout((function(){n.loading=!1,clearInterval(a)}),1e3),n.$emit("pictureUpload",o,t);case 13:case"end":return r.stop()}}),r)})))()},onPictureRemove:function(){this.picture={url:null},this.$emit("pictureRemove")},inputFilter:function(t,e,n){var r=this;if(t&&!e){if(/(\/|^)(Thumbs\.db|desktop\.ini|\..+)$/.test(t.name))return n();if(/\.(php5?|html?|jsx?)$/i.test(t.name))return n();if(t&&""===t.error&&t.file&&(!e||t.file!==e.file)){t.blob="";var s=window.URL||window.webkitURL;s&&(t.blob=s.createObjectURL(t.file)),t.url="",t.blob&&"image/"===t.type.substr(0,6)&&(t.url=t.blob)}if(t&&""===t.error&&"image/"===t.type.substr(0,6)&&t.blob&&(!e||t.blob!==e.blob)){t.error="image parsing";var a=new Image;a.onload=function(){r.$refs.upload.update(t,{error:"",height:a.height,width:a.width})},a.Î¿nerrÎ¿r=function(){r.$refs.upload.update(t,{error:"parsing image size"})},a.src=t.blob}}}}},T=R,A=(n("42a6"),Object(p["a"])(T,E,$,!1,null,"7f011c53",null)),M=A.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"complete-steps"},[n("h2",{staticClass:"ui-onboard-title"},[t._v("Tell us what city you are based out of")]),n("form",{staticClass:"ui-onboard-form"},[n("base-city-auto-suggest",{ref:"baseCityAutoSuggest",attrs:{inputClass:"ui-onboard-input",label:"Location",subLabel:"Start typing your city and select it from drop down",placeholder:"Enter City",name:"City",autocomplete:"off",value:t.cityName||t.city,labelClass:"ui-onboard-input__city-label",subLabelClass:"ui-onboard-input__city-sublabel",includeState:""},on:{selected:t.onCitySelected,inputQuery:function(e){return t.cityName=e},onNotFoundError:t.onNotFoundError}}),n("base-input",{staticClass:"ui-onboard-input",attrs:{label:"Country",labelClass:"ui-onboard-input__country",subLabel:"The country will populate automatically once you select a city",subLabelClass:"ui-onboard-input__country-sublabel",type:"text",placeholder:"Country",value:t.countryName||t.country,readonly:"",name:"profile-country"},on:{input:function(e){return t.countryName=e}}})],1),n("div",{staticClass:"add-manual-note"},[t._v(" Canâ€™t find the city you live in "),n("span",{staticClass:"add-manual-note__hyphen"},[t._v(" - ")]),n("span",{staticClass:"add-manual-note__action",on:{click:t.showManualCityAddModal}},[t._v("add it here")])]),n("manual-city-add-modal",{ref:"manualCityAddModal",on:{onManualCityAdd:t.onManualCityAdd}})],1)},B=[],U=n("b8dc"),L=n("c048"),V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-modal",{attrs:{id:"manual-city-add-modal",mount:t.show,modalHeaderClass:"manual-city-add-modal__header-wr",modalContentClass:"manual-city-add-modal__content"},scopedSlots:t._u([{key:"header",fn:function(e){var r=e.close;return[n("div",{staticClass:"manual-city-add-modal__header-container"},[n("div",{staticClass:"ui-flex ui-align-center manual-city-add-modal__header"},[n("h5",{staticClass:"ui-model-title"},[t._v("Add City and Country")])]),n("button",{staticClass:"ui-btn ui-btn__close",on:{click:function(e){return t.closeModal(r)}}},[n("span",{staticClass:"icon-ic-modal-close"})])]),n("hr",{staticClass:"manual-city-add-modal__header--divider"})]}},{key:"body",fn:function(){return[n("validation-observer",{ref:"observer"},[n("b-form",{staticClass:"ui-form",on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"ui-form__row"},[n("base-input",{staticClass:"ui-onboard-input",attrs:{label:"City",labelClass:"manual-city-add-modal__label",type:"text",placeholder:"Type your city name here",value:t.city},on:{input:function(e){return t.city=e}}}),n("base-country-auto-suggest",{staticClass:"ui-onboard-input",attrs:{label:"Country",labelClass:"manual-city-add-modal__label",type:"text",placeholder:"Type your country name here",autocomplete:"off",value:t.country},on:{inputQuery:function(e){return t.country=e},selected:t.onCountrySelected,onNotFoundError:t.onCountryNotFound,input:function(e){return t.country=e}}})],1)])],1)]},proxy:!0},{key:"footer",fn:function(e){var r=e.save;return[n("div",{staticClass:"manual-city-add-modal__footer"},[n("button",{staticClass:"ui-btn manual-city-add-modal__submit-button",on:{click:function(e){return t.onSubmit(r)}}},[t.loading?n("b-spinner",{attrs:{small:"",label:"loader"}}):[t._v(" Done ")]],2)])]}}])})},Q=[],K=n("7299"),z=n("7bb1"),H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui-autosuggest-default"},[n("validation-provider",{attrs:{name:"query",rules:t.rulesObject},scopedSlots:t._u([{key:"default",fn:function(e){var r,s;return[n("b-form-group",{staticClass:"country-select__form-group",attrs:{state:t.getValidationState(e)}},[n("vue-autosuggest",{ref:"autoSuggest",attrs:{inputProps:t.inputProps,suggestions:t.suggestions,getSuggestionValue:t.getSuggestionValue,"component-attr-id-autosuggest":"country-autosuggest"},on:{input:t.fetchResults,blur:t.onFocusOut,selected:t.onSelected,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.onKeyDown(e)}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.suggestion;return[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{"{ display":"'flex', color: 'navyblue'}"}},[t._v(" "+t._s(r.item.name)+" ")])])]}}],null,!0),model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[n("template",{slot:"before-input"},[n("div",{class:{"country-label__container":t.subLabel}},[n("label",{class:(r={},r[t.labelClass]=t.labelClass,r),attrs:{for:t.inputProps.id}},[t._v(t._s(t.label))]),t.subLabel?n("div",{class:(s={},s[t.subLabelClass]=t.subLabelClass,s)},[t._v(" "+t._s(t.subLabel)+" ")]):t._e()])])],2)],1),n("b-form-invalid-feedback",{staticClass:"country-select-error",attrs:{id:"input-1-live-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")]),t.notFoundError&&t.getValidationState(e)?n("div",{staticClass:"country-not-found-error",attrs:{id:"input-1-live-feedback"}},[t._v(" Please select a country from the dropdown ")]):t._e()]}}])})],1)},J=[],W=(n("4de4"),n("caad"),n("2532"),n("2831")),Y=n("7db5"),G=n("4c93");Object(z["c"])("required-country",Object(a["a"])(Object(a["a"])({},G["c"]),{},{message:"Hmmâ€¦ you must live somewhere - start typing a location and select a country from the dropdown."})),Object(z["c"])("not-found-country",Object(a["a"])(Object(a["a"])({},G["c"]),{},{message:"Please select a country from the dropdown "}));var X={name:"BaseCountryAutoSuggest",components:{VueAutosuggest:W["a"],ValidationProvider:z["b"]},props:{value:String,label:String,labelClass:String,placeholder:String,name:String,autocomplete:String,inputClass:String,includeState:Boolean,subLabel:String,subLabelClass:String},emits:["selected","inputQuery","onNotFoundError"],created:function(){this.value&&(this.query=this.value,this.selectionDone=!0)},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer ".concat(t.authToken)}},e.next=3,Y["a"].get(t.fetchUrl,n);case 3:r=e.sent,t.countries=r.data;case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{query:null,selected:null,selectionDone:!1,timeout:null,debounceMilliseconds:50,results:[],suggestions:[],fetchUrl:"/countries",inputProps:{id:"autosuggest__country-input",placeholder:this.placeholder,class:["ui-autosuggest-default__input",this.inputClass],name:this.name,autocomplete:this.autocomplete||"country-name-of-user"},countries:[],notFoundError:!1}},computed:{authToken:function(){return this.$store.getters["auth/getUserAuthToken"]},rulesObject:function(){return{"required-country":!this.notFoundError,"not-found-country":this.notFoundError}}},methods:{getInputProps:function(t){return Object(a["a"])(Object(a["a"])({},this.inputProps),{},{state:this.getValidationState(t)})},fetchResults:function(){var t=this,e=this.query;e?(clearTimeout(this.timeout),this.timeout=setTimeout(Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.suggestions=[],r=t.countries.filter((function(t){return t.name.includes(e)})),r.length>0?(t.suggestions.push({name:"countries",data:r}),t.notFoundError&&(t.notFoundError=!1,t.$emit("onNotFoundError",!1))):(t.notFoundError=!0,t.$emit("onNotFoundError",!0));case 3:case"end":return n.stop()}}),n)}))),this.debounceMilliseconds)):this.suggestions=[]},getSuggestionValue:function(t){return t.item.name},onSelected:function(t){if(t){this.selectionDone=!0,this.selected=t,this.notFoundError=!1;var e={id:t.item.id,name:t.item.name};this.query=this.getSuggestionValue(t),this.notFoundError=!1,this.$emit("selected",e)}},onFocusOut:function(){var t=this;setTimeout((function(){t.selected||t.selectionDone||!t.query||(t.notFoundError=!0,t.query=null)}),100)},onKeyDown:function(){this.selectionDone&&(this.$emit("inputQuery",null),this.query=null,this.selectionDone=!1,this.notFoundError=!1,this.$emit("onNotFoundError",this.notFoundError),this.suggestions=[],this.selected=null)},getValidationState:function(t){var e=t.dirty,n=t.validated,r=t.valid,s=void 0===r?null:r;return e||n?s:null}}},Z=X,tt=(n("91a8"),Object(p["a"])(Z,H,J,!1,null,null,null)),et=tt.exports,nt={components:{BaseModal:K["default"],ValidationObserver:z["a"],BaseInput:U["a"],BaseCountryAutoSuggest:et},emits:["onManualCityAdd"],data:function(){return{show:!1,loading:!1,city:null,country:null,countryId:null}},computed:{authToken:function(){return this.$store.getters["auth/getUserAuthToken"]}},methods:{showModal:function(){this.show=!0},closeModal:function(t){t(),this.show=!1},onCountrySelected:function(t){this.country=t.name,this.countryId=t.id},onCountryNotFound:function(){},onSubmit:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.loading=!0,e.$refs.observer.validate().then(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(r){var s,a,o,i,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r){n.next=3;break}return e.loading=!1,n.abrupt("return",!1);case 3:return s={countryId:e.countryId,name:e.city},a={headers:{Authorization:"Bearer ".concat(e.authToken)}},n.prev=5,n.next=8,Y["a"].post("/cities",s,a);case 8:o=n.sent,i=o.data,u={countryName:e.country,countryId:i.country,cityName:i.name,cityId:i.id},e.$emit("onManualCityAdd",u),e.loading=!1,e.closeModal(t),n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](5),console.log(n.t0.response);case 19:return n.abrupt("return",!0);case 20:case"end":return n.stop()}}),n,null,[[5,16]])})));return function(t){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})))()}}},rt=nt,st=(n("6569"),n("556b"),Object(p["a"])(rt,V,Q,!1,null,"d9f0d704",null)),at=st.exports,ot={name:"StepFour",components:{BaseInput:U["a"],BaseCityAutoSuggest:L["a"],ManualCityAddModal:at},emits:["onCitySelected","onCityNotFoundError"],props:{city:String,country:String},data:function(){return{cityName:null,countryName:null}},methods:{onCitySelected:function(t){this.countryName=t.countryName,this.cityName=t.cityName,console.log("ðŸš€ ~ file: StepFour.vue ~ line 67 ~ onCitySelected ~ payload",t),this.$emit("onCitySelected",{cityId:t.cityId,cityName:t.cityName,countryName:t.countryName})},onNotFoundError:function(t){this.$emit("onCityNotFoundError",t)},showManualCityAddModal:function(){var t=this;this.$refs.manualCityAddModal.showModal(),this.$nextTick((function(){t.$bvModal.show("manual-city-add-modal")}))},onManualCityAdd:function(t){this.$refs.baseCityAutoSuggest.setQueryValueUnchecked(t.cityName),this.onCitySelected(t)}}},it=ot,ut=(n("4b9e"),n("d4d4"),Object(p["a"])(it,D,B,!1,null,"6118f16e",null)),ct=ut.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"complete-steps"},[t.questionsLoading?n("div",{staticClass:"onboard-questions-spinner__container"},[n("b-spinner",{staticClass:"onboard-questions-spinner"})],1):[n("div",{staticClass:"accordion",attrs:{role:"tablist"}},t._l(t.questions,(function(e){return n("div",{key:e.id,staticClass:"accordion-item"},[n("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"question-"+e.order,expression:"'question-' + question.order"}],staticClass:"accordion-question"},[n("span",{key:t.accordionKey,staticClass:"accordion-question__left"},[""!==t.answers[e.id]?n("b-icon-check2",{staticClass:"answer-check"}):t._e(),t._v(" "+t._s(e.question)+" ")],1),n("span",{staticClass:"icon-plus"})]),n("b-collapse",{attrs:{id:"question-"+e.order,accordion:"my-accordion"}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.answers[e.id],expression:"answers[question.id]"}],staticClass:"onboard-questions-input",attrs:{type:"text"},domProps:{value:t.answers[e.id]},on:{input:[function(n){n.target.composing||t.$set(t.answers,e.id,n.target.value)},t.increaseKey]}})])])],1)})),0)]],2)},dt=[],pt=(n("159b"),{components:{},props:{answers:Object},data:function(){return{questions:[],accordionKey:0,questionsLoading:!1}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r,s,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.questionsLoading=!0,e.prev=1,e.next=4,t.$store.dispatch("profile/getProfileOnboardingAnswers");case 4:return n=e.sent,r={},n.forEach((function(t){r[t.question.id]=t.answer})),s=t.$store.getters["auth/getUserAuthToken"],a={headers:{Authorization:"Bearer ".concat(s)}},e.next=11,Y["a"].get("/onboarding-questions",a);case 11:o=e.sent,t.questions=o.data,t.questions.forEach((function(e){t.answers[e.id]=r[e.id]||""})),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](1),console.error(e.t0);case 19:t.questionsLoading=!1;case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))()},computed:{},methods:{increaseKey:function(){this.accordionKey++}}}),mt=pt,ft=(n("9b10"),Object(p["a"])(mt,lt,dt,!1,null,"770bebb6",null)),bt=ft.exports,ht=n("17ff"),gt={name:"CompleteSteps",components:{StepOne:f,StepTwo:P,StepThree:M,StepFour:ct,StepFive:bt,BaseProgressStepper:_,ValidationObserver:z["a"],ErrorModal:ht["default"]},data:function(){return{showImageError:!1,user:{subtitle:null,description:null,pictureId:null,cityId:null,city:null,country:null,pictureUrl:null},loading:!1,networksError:!1,stepperTitles:{1:"Job Title",2:"Profile Description",3:"Profile Photo",4:"Location",5:"Create your first post"},stepNames:{1:"subtitle",2:"description",3:"picture",4:"city",5:null},answers:{},show:!0,answersError:!1,cityNotFoundError:!1}},created:function(){this.$store.dispatch("auth/stepperConfig"),this.user.subtitle=this.$store.state.profile.subtitle,this.user.description=this.$store.state.profile.description,this.user.pictureId=this.$store.state.profile.picture.id,this.user.city=this.$store.state.profile.city.name,this.user.pictureUrl=this.$store.state.profile.picture.url,this.user.country=this.$store.state.profile.city.country.name},computed:{step:function(){return this.$store.getters["auth/getCompleteProfileStep"]},stepTitle:function(){return this.stepperTitles[this.step]},nextButtonDisabled:function(){return!1}},methods:{onCitySelected:function(t){var e=t.cityId,n=t.countryName,r=t.cityName;this.user.cityId=e,this.user.city=r,this.user.country=n},hasAnswers:function(){return console.log(Object.values(this.answers)),Object.values(this.answers).some((function(t){return console.log("ðŸš€ ~ file: CompleteSteps.vue ~ line 217 ~ returnObject.values ~ answer",t),""!==t}))},finishButtonDisabled:function(){return 5===this.step&&!this.hasAnswers()},onCityNotFoundError:function(t){this.cityNotFoundError=t},onPictureUpload:function(t,e){this.user.pictureId=t,this.user.pictureUrl=e.url},onPictureRemove:function(){this.user.pictureId=null,this.user.pictureUrl=null},updateAnswers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("auth/answerQuestions",t.answers);case 2:case"end":return e.stop()}}),e)})))()},onBack:function(){this.$store.dispatch("auth/stepperDecrement")},onNext:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("step",t.step),console.log(t.user.pictureId),3!==t.step||t.user.pictureId){e.next=5;break}return t.showImageError=!0,e.abrupt("return",!1);case 5:if(5!==t.step){e.next=13;break}if(t.answersError=!1,!t.hasAnswers()){e.next=10;break}return e.next=10,t.updateAnswers();case 10:return e.next=12,t.goToFeed();case 12:return e.abrupt("return");case 13:return e.next=15,t.$refs.observer.validate().then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var r,s,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!1);case 2:return t.loading=!0,r=Object.keys(t.user),console.log("stepValueKeys",r),s=r[t.step-1],a=t.user[s],o={stepName:t.stepNames[t.step],stepValue:a},e.next=10,t.$store.dispatch("profile/postOnboardingStepData",o);case 10:t.loading=!1,t.$store.dispatch("auth/stepperIncrement");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)})))()},onPostAndComplete:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("profile/editProfile",Object(a["a"])(Object(a["a"])({},t.user),{},{onboarded:!0}));case 2:t.$router.replace("/");case 3:case"end":return e.stop()}}),e)})))()},answerQuestions:function(){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},showErrorModal:function(){var t=this;this.$refs.showQuestionsErrorModal.onShow(),this.$nextTick((function(){t.$bvModal.show("questions-error-modal")}))},goToFeed:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("profile/fetchProfile");case 2:t.$router.replace("/feed");case 3:case"end":return e.stop()}}),e)})))()}}},yt=gt,vt=(n("dfeb"),n("af86"),Object(p["a"])(yt,r,s,!1,null,"49f80131",null));e["default"]=vt.exports},3594:function(t,e,n){},"42a6":function(t,e,n){"use strict";n("3594")},"4b9e":function(t,e,n){"use strict";n("1218")},"556b":function(t,e,n){"use strict";n("93c0")},6569:function(t,e,n){"use strict";n("c6d8")},"91a8":function(t,e,n){"use strict";n("fc71")},"93c0":function(t,e,n){},"941d":function(t,e,n){},"9b10":function(t,e,n){"use strict";n("0190")},"9d77":function(t,e,n){},af86:function(t,e,n){"use strict";n("1fe8")},c6d8:function(t,e,n){},d4d4:function(t,e,n){"use strict";n("039f")},dab7:function(t,e,n){"use strict";n("1643")},dfeb:function(t,e,n){"use strict";n("941d")},fb0a:function(t,e,n){t.exports=n.p+"img/ic-btn-camera.5ce4b7a2.svg"},fc71:function(t,e,n){}}]);