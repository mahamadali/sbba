(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17424664"],{"7cda":function(e,t,r){"use strict";r("a5fc")},a5fc:function(e,t,r){},e92a:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-onboard-form-wr"},[r("div",{staticClass:"ui-onboard-form-wr__in"},[r("h2",{staticClass:"ui-onboard-title"},[e._v("Sign In")]),r("p",{staticClass:"ui-onboard-desc"},[e._v(" Welcome to Bizfluence! Sign in with your email. ")]),r("validation-observer",{ref:"observer"},[r("form",{staticClass:"ui-onboard-form"},[r("base-input",{staticClass:"ui-onboard-input ui-signup-input",attrs:{label:"Email",placeholder:"example@email.com",type:"email",value:e.email,email:""},on:{input:function(t){return e.email=t}}}),r("base-input",{staticClass:"ui-onboard-input ui-signup-input",attrs:{label:"Password",placeholder:"Password",type:e.passwordVisibility,value:e.password,password:"",noPasswordValidation:"",showPassword:"text"===e.passwordVisibility},on:{input:function(t){return e.password=t},toggleShowPassword:e.handlePasswordVisibility}}),r("router-link",{staticClass:"ui-onboard-link",attrs:{to:"/forgot-password"}},[e._v("Forgot Password ?")]),e.error?r("b-form-invalid-feedback",{staticClass:"form-error",attrs:{id:"input-1-live-feedback"}},[e._v(e._s(e.error)+" ")]):e._e(),e.passwordReset?r("b-form-invalid-feedback",{staticClass:"form-success"},[e._v("Password has been reset successfully. ")]):e._e(),r("button",{staticClass:"ui-btn btn-block ui-onboard-btn",on:{click:function(t){return t.preventDefault(),e.submitSignIn(t)}}},[e.loading?r("b-spinner",{attrs:{med:"",label:"loader"}}):r("span",[e._v("Sign In")])],1)],1)])],1),r("p",{staticClass:"ui-text-bottom"},[e._v(" New to Bizfluence? "),r("router-link",{staticClass:"ui-onboard-link",attrs:{to:"/signup"}},[e._v("Join Now")])],1)])},a=[],i=r("1da1"),n=(r("96cf"),r("5319"),r("ac1f"),r("caad"),r("2532"),r("b8dc")),o=r("7bb1"),l=r("2b0e"),u=r("4360"),c=r("29b2"),d={name:"SignIn",components:{BaseInput:n["a"],ValidationObserver:o["a"]},data:function(){return{email:null,password:null,loading:!1,error:null,passwordVisibility:"password"}},computed:{passwordReset:function(){return this.$store.getters["auth/getPasswordReset"]}},methods:{handlePasswordVisibility:function(){"password"===this.passwordVisibility?this.passwordVisibility="text":this.passwordVisibility="password"},submitSignIn:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$gtag.event("login",{method:"Google"}),e.$store.dispatch("auth/togglePasswordReset",!1),e.error=null,e.$refs.observer.validate().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var s,a,i,n,o,d,p,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",!1);case 2:return s={email:e.email,password:e.password,auth:!0},t.prev=3,e.loading=!0,t.next=7,e.$store.dispatch("auth/signInUser",s);case 7:return a=u["a"].getters["auth/getUserAuthToken"],t.next=10,e.$store.dispatch("profile/fetchProfile");case 10:if(l["default"].use(Object(c["a"])(u["a"],a)),i=u["a"].getters["profile/getProfileOnboarded"],n=e.$store.getters["profile/getOnboardingLevel"],!(i||n>1)){t.next=19;break}e.$store.dispatch("auth/login"),d=null!==(o=decodeURI(e.$route.query.redirect))&&void 0!==o?o:null,d?(p=/^http/gi,p.test(d)?window.location.href=d:e.$router.replace("".concat(d))):e.$router.replace("/Feed"),t.next=22;break;case 19:return t.next=21,e.$store.dispatch("profile/fetchProfile");case 21:e.$router.replace("/complete-profile");case 22:t.next=34;break;case 24:if(t.prev=24,t.t0=t["catch"](3),console.log("ðŸš€ ~ file: SignIn.vue ~ line 75 ~ this.$refs.observer.validate ~ error.response.data.message",t.t0),b=t.t0.response.data.message,!b.includes("email is not confirmed")){t.next=32;break}return e.$store.dispatch("auth/storeUserWithoutAuth",s),e.$router.push("/verify-email"),t.abrupt("return");case 32:b.includes("Identifier")&&(b=b.replace("Identifier","Email")),e.error=b;case 34:return t.prev=34,e.loading=!1,t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[3,24,34,37]])})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()}}},p=d,b=(r("7cda"),r("2877")),f=Object(b["a"])(p,s,a,!1,null,null,null);t["default"]=f.exports}}]);