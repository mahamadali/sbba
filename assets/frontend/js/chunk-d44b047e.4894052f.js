(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d44b047e"],{"013f":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-wrapper-feed"},[n("div",{staticClass:"ui-wrapper-feed__feed"},[e._t("f-feed")],2),n("div",{staticClass:"ui-wrapper-feed__other"},[e._t("f-other")],2)])},o=[],r={name:"UiWrapperFeed"},s=r,a=(n("33bc"),n("2877")),c=Object(a["a"])(s,i,o,!1,null,"2dfe35ee",null);t["a"]=c.exports},"0140":function(e,t,n){"use strict";n("b1b7")},"0af8":function(e,t,n){},"0b68":function(e,t,n){"use strict";n("6965")},1428:function(e,t,n){},"284a":function(e,t,n){e.exports=n.p+"img/emptyInvite.46fe97ab.svg"},"33bc":function(e,t,n){"use strict";n("1428")},4787:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-wrapper-feed",{scopedSlots:e._u([{key:"f-other",fn:function(){return[n("div",{staticClass:"sidebar-report"},[n("p",{staticClass:"sidebar-report-header"},[e._v("Help Us Improve")]),n("p",{staticClass:"sidebar-report-body"},[e._v(" With the recent rollout of new features there will be inevitable bugs - please report any bugs you encounter. ")]),n("button",{staticClass:"sidebar-report-button ui-btn__outline"},[n("a",{attrs:{href:"https://form.jotform.com/212275425232448",target:"_blank"}},[e._v("Report A Bug")])])]),n("div",{staticClass:"invite-sidebar"},[e.totalConversions<50?n("div",{staticClass:"invite-sidebar__header"},[n("div",{staticClass:"invite-sidebar__header-icon"},[n("span",{staticClass:"icon-stars_round"})]),n("div",{staticClass:"invite-sidebar__header-content"},[n("span",{staticClass:"title"},[e._v(" "+e._s(e.inviteLeftPoints)+" more sign ups ")]),e._v(" "+e._s(e.inviteMessage)+" ")])]):e._e(),0==e.totalConversions&&0==e.inviteLinkClicked&&0==e.invitesSent?n("div",[n("div",{staticClass:"invite-sidebar__image"},[n("img",{attrs:{src:e.emptyInvite}}),n("button",{staticClass:"sidebar-report-button ui-btn__outline",on:{click:e.openInvitePopup}},[e._v(" Send your First Invite ")])])]):n("div",[n("div",{staticClass:"invite-sidebar__body"},[n("div",{staticClass:"invite-sidebar__content"},[n("div",{staticClass:"invite-sidebar__info"},[e._v(e._s(e.inviteLinkClicked))]),n("div",{staticClass:"invite-sidebar__info-title"},[e._v("Link clicked")])]),n("div",{staticClass:"invite-sidebar__content"},[n("div",{staticClass:"invite-sidebar__info"},[e._v(e._s(e.invitesSent))]),n("div",{staticClass:"invite-sidebar__info-title"},[e._v("Invites Sent")])]),n("div",{staticClass:"invite-sidebar__content"},[n("div",{staticClass:"invite-sidebar__info"},[e._v(e._s(e.totalConversions))]),n("div",{staticClass:"invite-sidebar__info-title"},[e._v("Sign Ups")])])]),n("div",{staticClass:"invite-sidebar__btn"},[n("button",{staticClass:"ui-btn btn-primary ui-btn__invite",on:{click:e.openInvitePopup}},[e._v(" Invite Contacts ")])]),e.joinedListShown.length?n("div",[n("hr",{staticClass:"invite-sidebar__divider"}),n("div",{staticClass:"invite-sidebar__subtitle"},[e._v(" Welcome your friends who have signed up through your invite by commenting on their first post ")]),n("div",{staticClass:"content__wrapper"},[n("ul",{staticClass:"content__wrapper--list"},e._l(e.joinedListShown,(function(t,i){return n("li",{key:i,staticClass:"content__wrapper--account",on:{click:function(n){return e.goToWelcomePost(t.post)}}},[n("div",{staticClass:"avatar-container"},[n("img",{staticClass:"avatar",attrs:{src:t.avatar,alt:"Joined Account Avatar"}})]),n("div",{staticClass:"content__wrapper--title"},[e._v(" "+e._s(t.inviteeId)+" ")])])})),0)]),n("div",{staticClass:"invite-sidebar__show-all"},[e.showingAllJoined||e.showAllClicked?e.showingAllJoined&&e.showAllClicked?n("p",{on:{click:e.hideAll}},[e._v("Hide")]):e._e():n("p",{on:{click:e.seeAll}},[e._v("See all")])])]):e._e()])]),n("LeaderBoard")]},proxy:!0},{key:"f-feed",fn:function(){return[n("TheFeeds",{attrs:{feedType:"mainFeed"}}),n("join-network-modal",{ref:"join-network-modal",attrs:{networkId:e.queryNetwork.id,networkName:e.queryNetwork.name,isPrivateNetwork:e.queryNetwork.isPrivateNetwork},on:{networkJoined:e.showNotificationModal}}),n("schedule-post-modal",{ref:"sharePostModal",attrs:{id:"join-notification-network-route","modal-data":e.modalData},on:{postStatus:e.setNotification}})]},proxy:!0}])})},o=[],r=n("5530"),s=n("1da1"),a=(n("96cf"),n("b0c0"),n("b64b"),n("d81d"),n("fb6a"),n("013f")),c=n("284a"),l=n.n(c),d=n("10f1"),u=n("2f62"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-modal",{attrs:{id:"join-network-modal",modalDialogClass:"join-network-modal-dialog",modalContentClass:"join-network-modal-content",modalHeaderClass:"join-network-modal-header",modalBodyClass:"join-network-modal-body",modalFooterClass:"join-network-modal-footer",mount:"",shortHeight:!0},scopedSlots:e._u([{key:"header",fn:function(t){var i=t.close;return[n("div",{staticClass:"ui-flex ui-align-center"},[n("h5",{staticClass:"ui-model-title join-network-modal-title"},[e._v(" "+e._s(e.modalTitle)+" ")])]),n("button",{staticClass:"ui-btn ui-btn__close join-network-modal-close",on:{click:function(t){return e.closeModal(i)}}},[n("span",{staticClass:"icon-ic-modal-close"})])]}},{key:"body",fn:function(){return[n("div",{staticClass:"join-network-modal-body__wrapper"},[n("div",{staticClass:"join-network-modal-body__text"},[e._v(" "+e._s(e.modalBodyStart)+" "),n("span",{staticClass:"join-network-modal-body__text--network"},[e._v(" "+e._s(e.modalBodyMiddle)+" ")]),e._v(" "+e._s(e.modalBodyEnd)+" ")])])]},proxy:!0},{key:"footer",fn:function(t){var i=t.save,o=t.cancel;return[n("div",{staticClass:"join-network-modal-footer__wrapper"},[n("button",{staticClass:"ui-btn ui-btn__outline",on:{click:function(t){return e.closeModal(o)}}},[e._v(" No ")]),n("button",{staticClass:"ui-btn",on:{click:function(t){return e.joinNetwork(i)}}},[e.loading?n("b-spinner",{attrs:{small:""}}):[e._v("Yes")]],2)])]}}])})},v=[],p=n("7299"),w={components:{BaseModal:p["default"]},props:{isPrivateNetwork:{type:Boolean,default:!1},networkName:{type:String,default:null},networkId:{type:String,default:null}},data:function(){return{show:!1,loading:!1}},computed:{modalTitle:function(){return this.isPrivateNetwork?"Request to Join Network?":"Join Network?"},modalBodyStart:function(){return this.isPrivateNetwork?"Would you like to request to join ":"Would you like to join "},modalBodyMiddle:function(){return this.networkName},modalBodyEnd:function(){return"network?"}},methods:{showModal:function(){this.show=!0},closeModal:function(e){e(),this.show=!1},joinNetwork:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,t.$store.dispatch("networks/joinNetwork",{networkId:t.networkId});case 3:i=n.sent,i&&(t.$emit("networkJoined"),t.loading=!1,t.closeModal(e));case 5:case"end":return n.stop()}}),n)})))()}}},m=w,h=(n("802c"),n("6850"),n("2877")),k=Object(h["a"])(m,f,v,!1,null,"120e2352",null),_=k.exports,b=n("b00d"),g=n("a7fd"),y=n.n(g),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"feed-leaderboard"},[n("div",{staticClass:"feed-leaderboard__title"},[e._v("Leader Board")]),n("div",{staticClass:"feed-leaderboard__active-user"},[e._v("Most Active User")]),n("b-tabs",{attrs:{"content-class":"feed-leaderboard__content","nav-wrapper-class":"feed-leaderboard__tabs",fill:"",justified:""}},[n("b-tab",{attrs:{title:"Day",active:""}},[0==e.dailyEarners.length?n("div",[e._v(" No Daily Earner ")]):e._l(e.dailyEarners,(function(e,t){return n("div",{key:t},[n("LeaderboardItem",{attrs:{userData:e}})],1)}))],2),n("b-tab",{attrs:{title:"Week"}},[0==e.weeklyEarners.length?n("div",[e._v(" No Weekly Earner ")]):e._l(e.weeklyEarners,(function(e,t){return n("div",{key:t},[n("LeaderboardItem",{attrs:{userData:e}})],1)}))],2)],1)],1)},N=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-flex ui-align-center ui-justify-space-between"},[n("div",{staticClass:"ui-flex ui-align-center post-user"},[n("img",{staticClass:"post-user__img",attrs:{src:e.userData.profile.picture.formats&&e.userData.profile.picture.formats.thumbnail?e.userData.profile.picture.formats.thumbnail.url:e.userData.profile.picture.url}}),n("span",{staticClass:"ui-text-left"},[e._v(e._s(e.userData.profile.title))])]),n("div",{staticClass:"score-wr"},[n("img",{staticClass:"score-icon",attrs:{src:e.ic_count}}),n("span",{staticClass:"score-num"},[e._v(e._s(e.userData.profile.points))])])])},x=[],M=n("7c89"),L=n.n(M),$={name:"LeaderboardItem",data:function(){return{ic_count:L.a}},props:{userData:{type:Object,required:!0}}},I=$,S=(n("6337"),Object(h["a"])(I,j,x,!1,null,"03b459f8",null)),P=S.exports,J={name:"LeaderBoard",components:{LeaderboardItem:P},data:function(){return{dailyEarners:[],weeklyEarners:[]}},mounted:function(){this.getLeaderBoard()},methods:{getLeaderBoard:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("feeds/getTopPointsEarner",{type:"daily"});case 2:return e.dailyEarners=t.sent,t.next=5,e.$store.dispatch("feeds/getTopPointsEarner",{type:"weekly"});case 5:e.weeklyEarners=t.sent;case 6:case"end":return t.stop()}}),t)})))()}}},R=J,O=(n("0b68"),Object(h["a"])(R,C,N,!1,null,null,null)),A=O.exports,E={name:"Feed",components:{LeaderBoard:A,TheFeeds:d["a"],UiWrapperFeed:a["a"],JoinNetworkModal:_,SchedulePostModal:b["default"]},data:function(){return{showInviteUserModal:!1,showNetworkNotifModal:!1,queryNetwork:{id:null,name:null,isPrivateNetwork:!1},modalData:{},fetchJoinedLists:[],joinedListShown:[],emptyInvite:l.a,showAllClicked:!1}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,i,o,s,a,c,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.commit("feeds/setActiveFeed","mainFeed"),n=e.$route.query["join-network"]||e.$cookies.get("refNetwork"),!n){t.next=8;break}return console.log("Join Network: ",n),t.next=6,e.$store.dispatch("network/getNetworkBySlugWithoutMutation",n);case 6:i=t.sent,i.id&&(console.log("Network = ",i),o=i.id,s=i.name,a=i.visibility,c=i.joined,l=i.notifyMe,d="public"!==a,e.queryNetwork=Object(r["a"])(Object(r["a"])({},e.queryNetwork),{},{id:o,name:s,isPrivateNetwork:d,joined:c,notifyMe:l}),c||(e.$refs["join-network-modal"].showModal(),e.$nextTick((function(){e.$bvModal.show("join-network-modal")}))),e.$cookies.remove("refNetwork"));case 8:e.getJoinedLists();case 9:case"end":return t.stop()}}),t)})))()},computed:Object(r["a"])(Object(r["a"])({},Object(u["b"])("profile",{fetched:"getProfileFetched",inviteLinkClicked:"getInviteLinkedClicked",invitePoints:"getInvitePoints",invitesSent:"getInvitesSent",totalConversions:"getTotalConversions",inviteLeftPoints:"getInviteLeftPoints",inviteMessage:"getInviteMessage"})),{},{networkList:function(){return this.$store.getters["post/getUserNetworks"]},showingAllJoined:function(){return this.joinedListShown.length===this.fetchJoinedLists.length},activeFilters:function(){return Object.keys(this.$store.getters["feeds/getActiveFilters"]).length}}),methods:{getJoinedLists:function(){var e=arguments,t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:100,n.next=3,t.$store.dispatch("invites/fetchJoinedInvites",{limit:i,page:1,welcome:!0});case 3:o=n.sent,o.conversions&&(t.fetchJoinedLists=o.conversions.map((function(e){var t,n,i,o,r=e.user,s=e.post;return console.log(s),{avatar:null!==(t=null===(n=r.profile)||void 0===n||null===(i=n.picture)||void 0===i?void 0:i.url)&&void 0!==t?t:y.a,inviteeId:null===(o=r.profile)||void 0===o?void 0:o.title,post:s}})),t.joinedListShown=t.fetchJoinedLists.slice(0,5),console.log(t.joinedListShown));case 5:case"end":return n.stop()}}),n)})))()},goToWelcomePost:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$router.push("/posts/".concat(e.slug));case 1:case"end":return n.stop()}}),n)})))()},seeAll:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.joinedListShown=e.fetchJoinedLists,e.showAllClicked=!0;case 2:case"end":return t.stop()}}),t)})))()},hideAll:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.joinedListShown=e.fetchJoinedLists.slice(0,5),e.showAllClicked=!1;case 2:case"end":return t.stop()}}),t)})))()},openInvitePopup:function(){var e=this;this.$nextTick((function(){e.$bvModal.show("invite-contacts-modal")}))},showNotificationModal:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showNetworkNotifModal=!0,e.modalData={actionType:"enableNotification",titleText:"Enable Notification?",subtitleText:"Would you like to be notified when there is a new post in this network?"},e.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$bvModal.show("join-notification-network-route"),t.next=3,e.syncAfterNetworkJoin();case 3:case"end":return t.stop()}}),t)})))),e.$store.commit("networks/setNetworkCommunity",{networkId:e.queryNetwork.id,isJoined:!0});case 4:case"end":return t.stop()}}),t)})))()},syncAfterNetworkJoin:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Syncing Network: ",e.queryNetwork),e.$store.commit("post/resetMyNetwork"),e.$store.commit("feeds/resetPinnedPosts"),t.next=5,e.$store.dispatch("networks/getMyNetworks");case 5:return t.next=7,e.$store.dispatch("feeds/fetchFeed",{page:1,limit:10}).then((function(){e.$store.commit("feeds/setFeedPage",{increment:1,feedType:"mainFeedPage"})}));case 7:case"end":return t.stop()}}),t)})))()},setNotification:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loader=!0,t.next=4,e.$store.dispatch("user/notificationSettingToggle",{setting:"postNetwork",type:"networks",action:e.queryNetwork.notifyMe?"remove":"add",value:e.queryNetwork.id});case 4:n=t.sent,n&&(e.queryNetwork.notifyMe=!e.queryNetwork.notifyMe,e.$store.commit("post/updateNetworkNotification",{id:e.queryNetwork.id,notifyMe:e.queryNetwork.notifyMe}),e.$store.commit("network/updateNetworkNotification",{notifyMe:e.queryNetwork.notifyMe})),t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](0),t.t0.response.data.message;case 11:return t.prev=11,e.loader=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}}},q=E,T=(n("0140"),Object(h["a"])(q,i,o,!1,null,"b596b10e",null));t["default"]=T.exports},6337:function(e,t,n){"use strict";n("ea60")},6850:function(e,t,n){"use strict";n("0af8")},6965:function(e,t,n){},"7c89":function(e,t,n){e.exports=n.p+"img/ic-profile-count.2ea9645d.svg"},"802c":function(e,t,n){"use strict";n("efeb")},a7fd:function(e,t,n){e.exports=n.p+"img/invite-avatar.7a1c5e6b.svg"},b1b7:function(e,t,n){},ea60:function(e,t,n){},efeb:function(e,t,n){}}]);