(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-326eecf1"],{"0139":function(t,i,n){t.exports=n.p+"img/f-emo1.4cc1f755.svg"},1198:function(t,i,n){},"176c":function(t,i,n){},"1aa8":function(t,i,n){"use strict";n("7424")},"1d7b":function(t,i,n){},"36aa":function(t,i,n){},"3c65":function(t,i,n){"use strict";n("b03c")},"4d38":function(t,i,n){},"52a9":function(t,i,n){"use strict";n("d097")},"534a":function(t,i,n){"use strict";n("1198")},"5d1c":function(t,i,n){"use strict";n("e0ad")},"72d7":function(t,i,n){"use strict";n("bb7f")},7424:function(t,i,n){},8149:function(t,i,n){"use strict";n("b4a1")},8816:function(t,i,n){"use strict";n("176c")},"8c32":function(t,i,n){t.exports=n.p+"img/f-emo2.869e39e2.svg"},9243:function(t,i,n){"use strict";n("4d38")},"9d9f":function(t,i,n){"use strict";var o=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("b-form-checkbox",{staticClass:"base-checkbox",attrs:{id:t.id,name:t.name,checked:t.checked,disabled:t.disabled},on:{change:t.onChange}},[t._v(" "+t._s(t.text)+" "),n("span",{staticClass:"base-checkbox__extra-text"},[t._t("default")],2)])},e=[],s={name:"BaseCheckbox",props:{id:{type:String},name:{type:String},disabled:{type:Boolean},text:{type:String},checked:{type:Boolean,required:!1,default:!1}},emits:["onChange"],methods:{onChange:function(t){this.$emit("onChange",t)}}},a=s,c=(n("5d1c"),n("2877")),r=Object(c["a"])(a,o,e,!1,null,"0c648c02",null);i["a"]=r.exports},a486:function(t,i,n){"use strict";n("36aa")},a5c8:function(t,i,n){"use strict";n("1d7b")},b03c:function(t,i,n){},b4a1:function(t,i,n){},bb7f:function(t,i,n){},d097:function(t,i,n){},e0ad:function(t,i,n){},fda7:function(t,i,n){"use strict";n.r(i);var o=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ui-wrapper-notification",{scopedSlots:t._u([{key:"n-filter",fn:function(){return[n("TheNotificationFilter")]},proxy:!0},{key:"n-divider",fn:function(){return[n("div",{staticClass:"divider-container"},[n("div",{staticClass:"divider"})])]},proxy:!0},{key:"n-notification",fn:function(){return[n("TheNotifications")]},proxy:!0}])})},e=[],s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"the-notifications"},[n("div",t._l(t.notifications,(function(t,i){return n("div",{key:t.id,staticClass:"the-notifications__container",attrs:{notification:t,index:i}},["postReaction"===t.notificationType||"postVote"===t.notificationType?n("notification-item-reacted",{attrs:{notification:t}}):"postPublish"===t.notificationType?n("notification-item-posted",{attrs:{notification:t}}):"postComment"===t.notificationType||"replyCreated"===t.notificationType?n("notification-item-commented",{attrs:{notification:t}}):"mention"===t.notificationType?n("notification-item-mention",{attrs:{notification:t}}):"userFollow"===t.notificationType?n("notification-item-follow",{attrs:{notification:t}}):n("notification-item",{attrs:{notification:t}})],1)})),0),n("infinite-loading",{attrs:{identifier:t.activeFilters},on:{infinite:t.infiniteHandler},scopedSlots:t._u([{key:"spinner",fn:function(){return t._l(10,(function(t){return n("div",{key:t},[n("item-skeleton")],1)}))},proxy:!0}])})],1)},a=[],c=n("1da1"),r=(n("96cf"),function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ui-wrapper-notification-item",{attrs:{notification:t.notification},scopedSlots:t._u([{key:"n-notification-img",fn:function(){return[n("img",{staticClass:"user-image clickable",attrs:{src:t.notification.relatedToProfile.image},on:{click:t.goToUser}})]},proxy:!0},{key:"n-notification-title",fn:function(){return[n("span",{staticClass:"ui-username clickable",on:{click:t.goToUser}},[t._v(t._s(t.notification.relatedToProfile.title))]),n("span",[t._v(t._s(t.getMessageText()))]),t.reactionUrl?n("img",{staticClass:"reaction",attrs:{src:t.reactionUrl,height:"20"}}):t._e()]},proxy:!0},t.notification.post?{key:"n-notification",fn:function(){return[n("div",{staticClass:"notification-item__post-content clickable"},[t.notification.post&&t.notification.post.media&&t.notification.post.media.length>0?n("div",{staticClass:"notification-item__post-content-img",style:{"background-image":"url("+t.image+")"}}):t._e(),n("div",{staticClass:"ui-flex-col notification-item__post-content-txt"},[n("div",{staticClass:"size12",domProps:{innerHTML:t._s(t.postContent)}})])])]},proxy:!0}:null,t.notification.post?{key:"n-notification-action",fn:function(){return[n("div",{staticClass:"item-count"},[t._v(t._s(t.reactionsCount)+" Reactions ")]),n("div",{staticClass:"item-count"},[t._v(t._s(t.notification.post.commentsNumber)+" Comments")]),n("div")]},proxy:!0}:null],null,!0)})}),l=[],f=n("0139"),u=n.n(f),d=n("8c32"),m=n.n(d),p=n("be02"),v=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"notification-item",class:{unread:!t.notification.read,read:t.notification.read}},[n("div",{staticClass:"notification-item__container"},[n("div",{staticClass:"n-profile-img",on:{click:t.goToUser}},[t._t("n-notification-img")],2),n("div",{staticClass:"n-profile-title",on:{click:t.goToPost}},[t._t("n-notification-title"),n("span",{staticClass:"time-stamp"},[t._v(t._s(t._f("moment")(t.notification.createdAt,"from","now")))])],2),n("div",{staticClass:"n-notification-more"},[n("base-icon-dropdown",{attrs:{"no-caret":"",right:"","icon-color":"#6B7280"}},[t.notification.read?t._e():n("base-list-item-default",{nativeOn:{click:function(i){return t.markAsRead(i)}}},[t._v(" Mark as read ")]),t.notification.read?n("base-list-item-default",{nativeOn:{click:function(i){return t.markAsUnread(i)}}},[t._v(" Mark as Unread ")]):t._e(),n("base-list-item-default",{nativeOn:{click:function(i){return t.blockUser(i)}}},[t._v(" Block this user ")]),n("base-list-item-default",{nativeOn:{click:function(i){return t.reportUser(i)}}},[t._v(" Report User ")]),n("base-list-item-default",{nativeOn:{click:function(i){return t.deleteNotification(i)}}},[t._v(" Delete ")])],1),t._t("n-notification-more")],2),n("div",{staticClass:"n-notification",class:{"border-none":t.borderNone},on:{click:t.goToPost}},[t._t("n-notification")],2),n("div",[t._t("default")],2),n("div",{staticClass:"n-notification-action"},[t._t("n-notification-action")],2)])])},h=[],_=n("b65d"),g=n("8f1b"),C={name:"UiWrapperNotificationItem",components:{BaseIconDropdown:_["a"],BaseListItemDefault:g["a"]},props:{borderNone:Boolean,notification:Object},computed:{profileId:function(){var t,i;return null===(t=this.notification)||void 0===t||null===(i=t.relatedToProfile)||void 0===i?void 0:i.profileId},profileTitle:function(){var t,i;return null===(t=this.notification)||void 0===t||null===(i=t.relatedToProfile)||void 0===i?void 0:i.title}},methods:{goToUser:function(){var t=this.notification.relatedToProfile.slug;this.$router.push({path:"/profiles/"+t}),this.markAsRead()},goToPost:function(){var t,i,n=null===(t=this.notification)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.slug;n&&(this.$router.push({path:"/posts/"+n}),this.markAsRead())},blockUser:function(){this.$store.dispatch("settings/blockUser",this.profileId);var t="".concat(this.title," has been blocked, you can unblock on the settings page");this.$emit("showToast",t)},reportUser:function(){},markAsRead:function(){this.$store.dispatch("notifications/changeReadStatus",{id:this.notification._id,status:"read"})},markAsUnread:function(){this.$store.dispatch("notifications/changeReadStatus",{id:this.notification._id,status:"unread"})},deleteNotification:function(){this.$store.dispatch("notifications/deleteNotification",{id:this.notification._id})}}},b=C,k=n("2877"),y=Object(k["a"])(b,v,h,!1,null,null,null),w=y.exports,x={name:"NotificationItem",components:{UiWrapperNotificationItem:w},props:{notification:{type:Object,required:!1}},data:function(){var t,i,n,o,e,s;return{componentKey:0,notificationData:[{}],ic_feed_love:u.a,ic_feed_smile:m.a,image:(null===(t=this.notification.post)||void 0===t||null===(i=t.media[0])||void 0===i||null===(n=i.file.formats)||void 0===n||null===(o=n.thumbnail)||void 0===o?void 0:o.url)||(null===(e=this.notification.post)||void 0===e||null===(s=e.media[0])||void 0===s?void 0:s.file.url)}},mounted:function(){},computed:{reactionsCount:function(){var t,i,n;return(null===(t=this.notification.post)||void 0===t?void 0:t.upvotesCount)+(null===(i=this.notification.post)||void 0===i||null===(n=i.reactions)||void 0===n?void 0:n.length)},reactionUrl:function(){var t;return this.notification.reaction?null===(t=this.notification.reaction)||void 0===t?void 0:t.icon.url:null},postContent:function(){var t;return Object(p["a"])(this.$sanitize(null===(t=this.notification.post)||void 0===t?void 0:t.summary))}},methods:{getMessageText:function(){return this.notification.content},goToUser:function(){var t=this.notification.relatedToProfile.slug;this.$router.push({path:"/profiles/"+t})},goToPost:function(t){this.$router.push({path:"/posts/"+t})},join:function(t){var i=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.$store.dispatch("networks/joinNetwork",{networkId:t});case 2:case"end":return n.stop()}}),n)})))()},leave:function(t){var i=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.$store.dispatch("networks/leaveNetwork",t);case 2:case"end":return n.stop()}}),n)})))()}}},$=x,T=Object(k["a"])($,r,l,!1,null,null,null),N=T.exports,P=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"feed-item"},[n("div",{staticClass:"feed-item__container"},[n("div",{staticClass:"f-profile-img"},[n("b-skeleton",{staticClass:"user-image",attrs:{type:"avatar",height:"42px",width:"42px"}})],1),n("div",{staticClass:"f-profile-title"},[n("b-skeleton",{staticClass:"user-name"})],1),n("div",{staticClass:"f-profile-desc"},[n("b-skeleton",{staticClass:"user-extra"})],1),n("div",{staticClass:"f-profile-more"}),n("div",{staticClass:"f-post"},[n("div",{staticClass:"f-post__text"},[n("div",{staticClass:"hello"},[n("b-skeleton",{staticClass:"user-post-loading"}),n("b-skeleton",{staticClass:"user-post-loading"}),n("b-skeleton",{staticClass:"user-post-loading user-post-loading--last"})],1)])])])])},F=[],O={components:{}},I=O,U=(n("a486"),Object(k["a"])(I,P,F,!1,null,"2ad146f8",null)),R=U.exports,j=n("e166"),S=n.n(j),A=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ui-wrapper-notification-item",{attrs:{notification:t.notification},scopedSlots:t._u([{key:"n-notification-img",fn:function(){return[n("img",{staticClass:"user-image clickable",attrs:{src:t.notification.relatedToProfile.image}})]},proxy:!0},{key:"n-notification-title",fn:function(){return[n("div",{staticClass:"clickable"},[n("span",{staticClass:"ui-username"},[t._v(t._s(t.notification.relatedToProfile.title))]),n("span",[t._v(t._s(t.notification.content))]),t.reactionUrl?n("img",{staticClass:"reaction",attrs:{src:t.reactionUrl,height:"20"}}):t._e()])]},proxy:!0},{key:"n-notification",fn:function(){return[n("div",{staticClass:"notification-item__post-content clickable"},[t.hasImage?n("div",{staticClass:"notification-item__post-content-img",style:{"background-image":"url(https://mht.wtf/post/content-aware-resize/sample-image.jpeg)"}}):t._e(),n("div",{staticClass:"ui-flex-col ui-flex-grow notification-item__post-content-txt"},[n("div",{staticClass:"size12",domProps:{innerHTML:t._s(t.postContent)}})])])]},proxy:!0},{key:"n-notification-action",fn:function(){return[n("div",{staticClass:"item-count"},[t._v(t._s(t.reactionCount)+" Reactions ")]),n("div",{staticClass:"item-count"},[t._v(t._s(t.commentCount)+" Comments")])]},proxy:!0}])})},M=[];n("5319"),n("ac1f");function z(t){var i=t.replace(/(?:\r\n|\r|\n)/g,"<br/>"),n=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi;i=i.replace(n,"$1");var o=/(^|[^/])(www\.[\S]+(\b|$))/gim;i=i.replace(o," $2");var e=/@\[([^\]]*)]\{([^}]*)\}/gi;return i=i.replace(e,'<button class="mention" data-id="$2">$1</button>'),i}var E={name:"NotificationItemReacted",components:{UiWrapperNotificationItem:w},props:{notification:{type:Object,required:!1}},computed:{hasImage:function(){return!1},reactionUrl:function(){var t,i,n;return null===(t=this.notification)||void 0===t||null===(i=t.reaction)||void 0===i||null===(n=i.icon)||void 0===n?void 0:n.url},reactionCount:function(){var t,i,n;return(null===(t=this.notification)||void 0===t||null===(i=t.post)||void 0===i||null===(n=i.reactions)||void 0===n?void 0:n.length)||0},commentCount:function(){var t,i;return(null===(t=this.notification)||void 0===t||null===(i=t.post)||void 0===i?void 0:i.commentsNumber)||0},postContent:function(){var t,i,n,o;return null!==(t=this.notification)&&void 0!==t&&null!==(i=t.post)&&void 0!==i&&i.summary?z(this.$sanitize(null===(n=this.notification)||void 0===n||null===(o=n.post)||void 0===o?void 0:o.summary)):""}},methods:{goToPost:function(){var t=this.notification.post.slug;this.$router.push({path:"/posts/"+t}),this.$store.dispatch("notifications/changeReadStatus",{id:this.notification._id,status:"read"})},goToUser:function(){var t=this.notification.relatedToProfile.slug;this.$router.push({path:"/profiles/"+t})}}},q=E,B=(n("534a"),Object(k["a"])(q,A,M,!1,null,"d979aef2",null)),L=B.exports,W=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ui-wrapper-notification-item",{attrs:{notification:t.notification},scopedSlots:t._u([{key:"n-notification-img",fn:function(){return[n("img",{staticClass:"user-image clickable",attrs:{src:t.notification.relatedToProfile.image}})]},proxy:!0},{key:"n-notification-title",fn:function(){return[n("span",{staticClass:"ui-username"},[t._v(t._s(t.notification.relatedToProfile.title))]),n("span",[t._v(t._s(t.notification.content))])]},proxy:!0},{key:"n-notification",fn:function(){return[n("div",{staticClass:"notification-item__post-title notification-item-comment clickable"},[t._v('"'),n("span",[t._v(t._s(t.mentionText+" ")+" ")]),n("span",{staticClass:"my-title"},[t._v(" "+t._s(t.myName)+" ")]),t._v('" ')]),n("div",{staticClass:"notification-item__post-content clickable"},[t.hasImage?n("div",{staticClass:"notification-item__post-content-img",style:{"background-image":"url(https://mht.wtf/post/content-aware-resize/sample-image.jpeg)"}}):t._e(),n("div",{staticClass:"ui-flex-col ui-flex-grow notification-item__post-content-txt"},[n("div",{staticClass:"size12",domProps:{innerHTML:t._s(t.postContent)}})])])]},proxy:!0},{key:"n-notification-action",fn:function(){return[n("div",{staticClass:"item-count"},[t._v(t._s(0)+" Reactions ")]),n("div",{staticClass:"item-count"},[t._v(t._s(0)+" Comments")])]},proxy:!0}])})},H=[],D=(n("caad"),n("2532"),{name:"NotificationItemMention",components:{UiWrapperNotificationItem:w},computed:{hasImage:function(){return!1},isCommentMention:function(){return this.notification.content.includes("comment")},myName:function(){return this.$store.getters["profile/getProfileTitle"]},mentionText:function(){var t,i;return null===(t=this.notification)||void 0===t||null===(i=t.mention)||void 0===i?void 0:i.mentionText},postContent:function(){var t,i,n,o;return null!==(t=this.notification)&&void 0!==t&&null!==(i=t.post)&&void 0!==i&&i.summary?z(this.$sanitize(null===(n=this.notification)||void 0===n||null===(o=n.post)||void 0===o?void 0:o.summary)):""},mentionContent:function(){return this.mentionText?z(this.$sanitize(this.mentionText)):""}},props:{notification:{type:Object,required:!1}}}),V=D,J=(n("9243"),Object(k["a"])(V,W,H,!1,null,"5d31e180",null)),Z=J.exports,K=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ui-wrapper-notification-item",{attrs:{notification:t.notification,"border-none":""},scopedSlots:t._u([{key:"n-notification-img",fn:function(){return[n("img",{staticClass:"user-image clickable",attrs:{src:t.notification.relatedToProfile.image}})]},proxy:!0},{key:"n-notification-title",fn:function(){return[n("span",{staticClass:"ui-username"},[t._v(t._s(t.notification.relatedToProfile.title))]),n("span",{staticClass:"clickable"},[t._v(t._s(t.notification.content))])]},proxy:!0},{key:"n-notification",fn:function(){return[n("div")]},proxy:!0},{key:"n-notification-action",fn:function(){return[n("button",{staticClass:"ui-btn notification-action",on:{click:t.followUser}},[t._v(" "+t._s(t.isFollowing?"Following":"Follow back")+" ")]),n("button",{staticClass:"ui-btn__outline notification-action",on:{click:t.gotoProfile}},[t._v(" See Profile ")])]},proxy:!0}])})},Y=[],G=(n("99af"),{name:"NotificationItemFollow",components:{UiWrapperNotificationItem:w},props:{notification:{type:Object,required:!1}},data:function(){return{isFollowing:!1}},computed:{isUserOnboarded:function(){return this.$store.getters["profile/getProfileOnboarded"]}},mounted:function(){this.isFollowing=this.notification.relatedToProfile.isFollowing},methods:{markAsRead:function(){this.$store.dispatch("notifications/changeReadStatus",{id:this.notification._id,status:"read"})},followUser:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.isUserOnboarded){i.next=3;break}return t.$bvModal.show("onboard-modal"),i.abrupt("return");case 3:return i.next=5,t.$store.dispatch("user/followUser",{profileId:t.notification.relatedToProfile.profileId});case 5:return n=i.sent,i.next=8,t.$store.dispatch("user/addUserProfileCount");case 8:t.$bvToast.toast(n.success?"You are now following ".concat(t.notification.relatedToProfile.title):"Was unable to follow ".concat(t.notification.relatedToProfile.title,", ").concat(n.message),{autoHideDelay:2e3,noCloseButton:!0,toaster:"b-toaster-top-center"}),t.$store.dispatch("notifications/changeReadStatus",{id:t.notification._id,status:"read"}),n.success&&(t.isFollowing=!0),t.markAsRead();case 12:case"end":return i.stop()}}),i)})))()},gotoProfile:function(){this.$router.push("profiles/".concat(this.notification.relatedToProfile.slug)),this.markAsRead()}}}),Q=G,X=(n("52a9"),Object(k["a"])(Q,K,Y,!1,null,"036c7ee9",null)),tt=X.exports,it=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ui-wrapper-notification-item",{attrs:{notification:t.notification},scopedSlots:t._u([{key:"n-notification-img",fn:function(){return[n("img",{staticClass:"user-image clickable",attrs:{src:t.notification.relatedToProfile.image}})]},proxy:!0},{key:"n-notification-title",fn:function(){return[n("span",{staticClass:"ui-username"},[t._v(t._s(t.notification.relatedToProfile.title))]),n("span",[t._v("just posted")])]},proxy:!0},{key:"n-notification",fn:function(){return[n("div",{staticClass:"notification-item__post-content clickable"},[t.notification.post&&t.notification.post.media&&t.notification.post.media.length>0?n("div",{staticClass:"notification-item__post-content-img",style:{"background-image":"url("+t.image+")"}}):t._e(),n("div",{staticClass:"ui-flex-col notification-item__post-content-txt"},[n("div",{staticClass:"size12",domProps:{innerHTML:t._s(t.postContent)}})])])]},proxy:!0},{key:"n-notification-action",fn:function(){return[n("div",{staticClass:"item-count"},[t._v(t._s(t.notification.post.reactions.length)+" Reactions ")]),n("div",{staticClass:"item-count"},[t._v(t._s(t.notification.post.commentsNumber)+" Comments")])]},proxy:!0}])})},nt=[],ot={name:"NotificationItemPosted",components:{UiWrapperNotificationItem:w},props:{notification:{type:Object,required:!1}},data:function(){var t,i,n,o,e,s;return{image:(null===(t=this.notification.post)||void 0===t||null===(i=t.media[0])||void 0===i||null===(n=i.file.formats)||void 0===n||null===(o=n.thumbnail)||void 0===o?void 0:o.url)||(null===(e=this.notification.post)||void 0===e||null===(s=e.media[0])||void 0===s?void 0:s.file.url)}},computed:{postContent:function(){return Object(p["a"])(this.$sanitize(this.notification.post.summary))}}},et=ot,st=Object(k["a"])(et,it,nt,!1,null,null,null),at=st.exports,ct=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("ui-wrapper-notification-item",{attrs:{notification:t.notification},scopedSlots:t._u([{key:"n-notification-img",fn:function(){return[n("img",{staticClass:"user-image clickable",attrs:{src:t.notification.relatedToProfile.image}})]},proxy:!0},{key:"n-notification-title",fn:function(){return[n("span",{staticClass:"ui-username"},[t._v(t._s(t.notification.relatedToProfile.title))]),n("span",[t._v(t._s(t.notification.content))])]},proxy:!0},{key:"n-notification",fn:function(){return[n("div",{staticClass:"notification-item__post-title clickable",domProps:{innerHTML:t._s(t.commentContent)}}),n("div",{staticClass:"notification-item__post-content clickable"},[t.notification.post&&t.notification.post.media&&t.notification.post.media.length>0?n("div",{staticClass:"notification-item__post-content-img",style:{"background-image":"url("+t.image+")"}}):t._e(),n("div",{staticClass:"ui-flex-col ui-flex-grow notification-item__post-content-txt"},[n("div",{staticClass:"size12",domProps:{innerHTML:t._s(t.postContent)}})])])]},proxy:!0}])})},rt=[],lt={name:"NotificationItemCommented",components:{UiWrapperNotificationItem:w},props:{notification:{type:Object,required:!1}},data:function(){var t,i,n,o,e,s;return{image:(null===(t=this.notification.post)||void 0===t||null===(i=t.media[0])||void 0===i||null===(n=i.file.formats)||void 0===n||null===(o=n.thumbnail)||void 0===o?void 0:o.url)||(null===(e=this.notification.post)||void 0===e||null===(s=e.media[0])||void 0===s?void 0:s.file.url)}},computed:{hasImage:function(){return!1},postContent:function(){var t,i,n,o,e,s,a,c;return null!==(t=this.notification)&&void 0!==t&&null!==(i=t.post)&&void 0!==i&&i.summary?z(this.$sanitize(null===(n=this.notification)||void 0===n||null===(o=n.post)||void 0===o?void 0:o.summary)):null!==(e=this.notification.comment)&&void 0!==e&&null!==(s=e.parentComment)&&void 0!==s&&s.content?z(this.$sanitize(null===(a=this.notification.comment)||void 0===a||null===(c=a.parentComment)||void 0===c?void 0:c.content)):""},commentContent:function(){var t,i,n,o;return null!==(t=this.notification)&&void 0!==t&&null!==(i=t.comment)&&void 0!==i&&i.content?'"'.concat(z(this.$sanitize(null===(n=this.notification)||void 0===n||null===(o=n.comment)||void 0===o?void 0:o.content)),'"'):""}}},ft=lt,ut=(n("1aa8"),Object(k["a"])(ft,ct,rt,!1,null,"325268e2",null)),dt=ut.exports,mt={name:"TheNotifications",components:{NotificationItemCommented:dt,NotificationItemPosted:at,NotificationItemFollow:tt,NotificationItemMention:Z,NotificationItemReacted:L,NotificationItem:N,ItemSkeleton:R,InfiniteLoading:S.a},props:{},mounted:function(){console.log("reload notifs"),this.reloadNotifications()},computed:{notifications:function(){return this.$store.getters["notifications/getNotifications"]},page:function(){return this.$store.getters["notifications/getPage"]},filterId:function(){return this.$store.getters["notifications/getFilterId"]},activeFilters:function(){return this.$store.getters["notifications/getActiveFilters"]},hasNewNotifications:function(){return this.$store.getters["notifications/getNewNotificationCount"]>0}},methods:{infiniteHandler:function(t){var i=this;console.log(" ðŸ„â€â™€ï¸notifications infinite handler called"),this.fetchNotifications().then((function(n){n.length?(i.$store.commit("notifications/updatePage",{increment:1}),t.loaded()):t.complete()}))},fetchNotifications:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$store.dispatch("notifications/fetchNotifications",t.page);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()},reloadNotifications:function(){this.$store.commit("notifications/resetNotifications")}}},pt=mt,vt=(n("72d7"),Object(k["a"])(pt,s,a,!1,null,null,null)),ht=vt.exports,_t=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"notification-filter"},[n("div",{staticClass:"notification-filter__selector"},[n("div",{staticClass:"notification-filter__selector--header"},[n("b-dropdown",{ref:"dropdown",staticClass:"ui-btn__outline ui-btn-drop__filter",attrs:{id:"dropdown-form",text:"Dropdown with form","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("svg",{staticClass:"btn-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"}})]),t._v(" Filters "),n("span",{staticClass:"icon-ic-btn-chevron"})]},proxy:!0}])},[n("b-dropdown-form",t._l(t.filters,(function(i,o){return n("div",{key:o},[n("base-checkbox",{staticClass:"dropdown-filter-list",attrs:{text:i.title,checked:t.getFilterState(i.type)},on:{onChange:function(n){return t.onChange(n,i)}}})],1)})),0)],1),n("NotificationFilterModal")],1),n("div",{staticClass:"feed-filter__selector--body"})]),n("div",{staticClass:"notification-filter__body"},[n("div",{staticClass:"notification-filter-wr__tags"},[n("ul",{staticClass:"list-inline"},t._l(t.activeFilters,(function(i,o){return n("li",{key:o,staticClass:"list-inline-item"},[n("b-form-tag",{on:{remove:function(n){return t.removeFilterTag(i)}}},[t._v(" "+t._s(i.title)+" ")])],1)})),0)])]),n("div",{staticClass:"notification-filter__actions"},[n("button",{staticClass:"ui-btn__transparent mark-all-read",on:{click:t.markAllRead}},[t._v("Mark all as read")])])])},gt=[],Ct=(n("a434"),n("9d9f")),bt=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("b-modal",{ref:"notification-filter-modal",attrs:{id:"notification-filter-modal",size:"lg",centered:"","content-class":"modal-content-sm"},scopedSlots:t._u([{key:"modal-header",fn:function(i){var o=i.close;return[n("h5",{staticClass:"ui-model-title"},[t._v("Filters")]),n("button",{staticClass:"ui-btn ui-btn__close",on:{click:o}},[n("span",{staticClass:"icon-ic-modal-close"})])]}},{key:"modal-footer",fn:function(i){var o=i.close;return[n("div",{staticClass:"modal-footer__right"},[n("button",{staticClass:"ui-btn",on:{click:function(i){return t.onSubmit(o)}}},[[t._v(" Apply")]],2)])]}}])},[n("div",{staticClass:"notification-filter-wr"},[n("b-form-tags",{staticClass:"notification-filter-wr__form",attrs:{id:"tags-with-dropdown","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(i){var o=i.tags,e=i.disabled,s=i.addTag,a=i.removeTag;return[n("div",{staticClass:"notification-filter-wr__tags"},[o.length>0?n("ul",{staticClass:"list-inline"},t._l(o,(function(i){return n("li",{key:i,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:i,disabled:e,variant:"info"},on:{remove:function(n){return t.removeCurrentTag({tag:i,removeTag:a})}}},[t._v(t._s(i)+" ")])],1)})),0):t._e(),n("b-dropdown",{ref:"notifDropdown",staticClass:"notification-filter-wr__tags-dropdown",attrs:{size:"sm",block:"","menu-class":"w-100"},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("div",{staticClass:"ui-block ui-text-right"},[n("span",{staticClass:"icon-plus ui-bold "})])]},proxy:!0}],null,!0)},t._l(t.availableOptions,(function(i){return n("b-dropdown-item-button",{key:i.id,on:{click:function(n){return t.onOptionClick({option:i,addTag:s})}}},[t._v(" "+t._s(i.title)+" ")])})),1)],1)]}}]),model:{value:t.value,callback:function(i){t.value=i},expression:"value"}})],1)])},kt=[],yt=(n("4de4"),n("d81d"),n("c627")),wt=n.n(yt),xt={name:"NotificationFilterModal",components:{},emits:["onClose"],data:function(){return{ic_close:wt.a,contentClass:"content-class",show:!0,loading:!1,replacedData:null,filters:[{id:1,title:"All Comments",type:"postComment"},{id:2,title:"@ Mentions",type:"mention"},{id:3,title:"Likes & Reactions",type:"postReaction"},{id:4,title:"Follows",type:"userFollow"},{id:5,title:"New Posts",type:"newPost"}],value:[]}},computed:{availableOptions:function(){var t=this;return this.filters.filter((function(i){return-1===t.value.indexOf(i.title)}))},activeFilter:function(){return this.$store.getters["notifications/getActiveFilters"]}},watch:{activeFilter:function(t){this.value=t.map((function(t){return t.title}))}},methods:{closeModal:function(t){t(),this.toggleModal(!1),this.$emit("onClose")},toggleModal:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.show=t},onSubmit:function(t){var i=this,n=this.filters.filter((function(t){return i.value.indexOf(t.title)>=0}));this.$store.commit("notifications/updateActiveFilters",n),this.$store.commit("notifications/resetNotifications"),this.$store.commit("notifications/updateInfiniteId"),this.closeModal(t)},onOptionClick:function(t){var i=t.option,n=t.addTag;n(i.title)},removeCurrentTag:function(t){var i=t.tag,n=t.removeTag;n(i)}}},$t=xt,Tt=(n("8149"),Object(k["a"])($t,bt,kt,!1,null,"106a3cf6",null)),Nt=Tt.exports,Pt={name:"TheNotificationFilters",components:{NotificationFilterModal:Nt,BaseCheckbox:Ct["a"]},props:{},data:function(){return{selectedFilters:[],filters:[{id:1,title:"Comments",type:"postComment"},{id:2,title:"Mentions",type:"mention"},{id:3,title:"Reactions",type:"postReaction"},{id:4,title:"Likes",type:"postVote"},{id:6,title:"New Followers",type:"userFollow"},{id:7,title:"Posts in networks I'm following",type:"postNetwork"},{id:8,title:"Posts from users I'm following",type:"postPublish"},{id:9,title:"Posts I'm Following",type:"postUpdate"},{id:10,title:"New chat request",type:"chatRequest"},{id:11,title:"Chat request was accepted",type:"chatRequestAccepted"}]}},mounted:function(){},computed:{activeFilters:function(){return this.$store.getters["notifications/getActiveFilters"]},onlyUnread:function(){return this.$store.getters["notifications/onlyUnread"]}},methods:{onChange:function(t,i){t?this.selectedFilters.push(i):this.selectedFilters.splice(this.selectedFilters.indexOf(i),1),this.$store.commit("notifications/updateActiveFilters",this.selectedFilters),this.$store.commit("notifications/resetNotifications")},getFilterState:function(t){return this.activeFilters.some((function(i){return i.type==t}))},removeFilterTag:function(t){this.$store.commit("notifications/removeActiveFilters",t),this.$store.commit("notifications/resetNotifications"),this.$store.dispatch("notifications/fetchNotifications",1),this.$store.commit("notifications/updatePage",{increment:1})},unreadFilterChange:function(t){this.$store.commit("notifications/updateOnlyUnread",{active:t}),this.$store.commit("notifications/resetNotifications"),this.$store.dispatch("notifications/fetchNotifications",1),this.$store.commit("notifications/updatePage",{increment:1})},markAllRead:function(){this.$store.dispatch("notifications/changeAllStatus",{status:"read"}),this.$store.commit("notifications/resetNotifications"),this.$store.dispatch("notifications/fetchNotifications",1),this.$store.commit("notifications/updatePage",{increment:1})}}},Ft=Pt,Ot=(n("3c65"),Object(k["a"])(Ft,_t,gt,!1,null,"18e80ee6",null)),It=Ot.exports,Ut=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"ui-wrapper-notification"},[n("div",{staticClass:"ui-wrapper-notification__filter"},[t._t("n-filter")],2),n("div",{staticClass:"ui-wrapper-notification__divider"},[t._t("n-divider")],2),n("div",{staticClass:"ui-wrapper-notification__notification"},[t._t("n-notification")],2)])},Rt=[],jt={name:"UiWrapperNotification"},St=jt,At=(n("a5c8"),Object(k["a"])(St,Ut,Rt,!1,null,"f820193e",null)),Mt=At.exports,zt={name:"Notifications",components:{TheNotifications:ht,UiWrapperNotification:Mt,TheNotificationFilter:It},mounted:function(){},computed:{}},Et=zt,qt=(n("8816"),Object(k["a"])(Et,o,e,!1,null,"55f494d2",null));i["default"]=qt.exports}}]);